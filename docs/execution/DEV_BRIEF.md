# DEV_BRIEF.md ‚Äî Cleaning SaaS
(Frontend / Mobile / Backend integration guide)

Status: ACTIVE  
Last reviewed: 2026-02-04

---
### –ü—Ä–∞–≤–∏–ª–æ –≤–µ–¥–µ–Ω–∏—è

- DEV_BRIEF.md ‚Äî –∂–∏–≤–æ–π –¥–æ–∫—É–º–µ–Ω—Ç.
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–∞–≤–∏–ª–∞—Ö, –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ CHANGELOG.
- –ù–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Å–≤–µ—Ä—Ö—É.
- CHANGELOG –æ—Ç—Ä–∞–∂–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –∞ –Ω–µ –∫–æ–¥–∞ –∏–ª–∏ API.

## CHANGELOG

### –ü—Ä–∞–≤–∏–ª–æ –≤–µ–¥–µ–Ω–∏—è

- Changelog –≤–µ–¥—ë—Ç—Å—è **—Ç–æ–ª—å–∫–æ –¥–ª—è DEV_BRIEF.md**.
- –ù–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ **–≤—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Å–≤–µ—Ä—Ö—É**.
- –í–µ—Ä—Å–∏—è –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ **–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**, –∞ –Ω–µ –∫ API –∏–ª–∏ –ø—Ä–æ–¥—É–∫—Ç—É.
- –ó–∞–ø–∏—Å–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –ø—Ä–∞–≤–∏–ª–∞ –∏–ª–∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã**.
- –ö–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∫–∏ –∏ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–º—ã—Å–ª–∞ ‚Äî **–Ω–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è**.

### –§–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Å–∏

```md
### X.Y.Z ‚Äî YYYY-MM-DD
- NEW: –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è / –ø—Ä–∞–≤–∏–ª–∞ / —Ñ–ª–æ—É.
- CHANGED: —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –ø–æ–≤–µ–¥–µ–Ω–∏–∏ –∏–ª–∏ –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç—è—Ö.
- FIXED: —É—Ç–æ—á–Ω–µ–Ω–∏—è, —Å–Ω—è—Ç–∏–µ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–π, –ø—Ä–æ—è—Å–Ω–µ–Ω–∏–µ —Å–µ–º–∞–Ω—Ç–∏–∫–∏.
- DEPRECATED: (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —á—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω–æ —É—Å—Ç–∞—Ä–µ–≤—à–∏–º, –Ω–æ –µ—â—ë –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è.
- BREAKING: (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –í–°–ï–ì–î–ê –Ø–í–ù–û) –ª–æ–º–∞—é—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–∞–≤–∏–ª–∞—Ö.

### 1.6.0 ‚Äî 2026-02-12
- NEW: Settings API (Account & Billing MVP v1.1) ‚Äî –ø–æ–ª–Ω—ã–π CRUD –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è, –Ω–∞—Å—Ç—Ä–æ–µ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, –±–∏–ª–ª–∏–Ω–≥–∞.
- NEW: `GET/PATCH /api/me` ‚Äî –ø—Ä–æ—Ñ–∏–ª—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (full_name, email, phone).
- NEW: `POST /api/me/change-password` ‚Äî —Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è (—Ç–æ–ª—å–∫–æ –¥–ª—è password-auth, SSO ‚Üí 403).
- NEW: `GET/PATCH /api/me/notification-preferences` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (auto-save).
- NEW: `GET /api/settings/billing` ‚Äî –±–∏–ª–ª–∏–Ω–≥-—Å–≤–æ–¥–∫–∞ (RBAC: Owner full, Manager read-only, Staff/Cleaner blocked).
- NEW: `GET /api/settings/billing/invoices/:id/download` ‚Äî stub (501 Not Implemented).
- NEW: Standardized error format: `{code, message, fields?}` –¥–ª—è –≤—Å–µ—Ö Settings API endpoints.
- NEW: RBAC –º–∞—Ç—Ä–∏—Ü–∞: Owner/Manager/Staff/Cleaner —Ä–æ–ª–∏ —Å —è–≤–Ω—ã–º–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏.
- NEW: Frontend Settings pages (Account, Billing) –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ backend API.
- NEW: Verification checklist (`docs/settings/VERIFICATION_CHECKLIST.md`) ‚Äî —Ä—É—á–Ω–æ–π QA-–≥–∞–π–¥ –¥–ª—è Settings v1.1.
- CHANGED: User model —Ä–∞—Å—à–∏—Ä–µ–Ω: —Ä–æ–ª–∏ (owner/manager/staff/cleaner), auth_type (password/sso), notification_preferences (JSONField).
- FIXED: Unified Settings API docs –≤ `API_CONTRACTS.md` (section 9), `SETTINGS_API_RBAC.md`, `VERIFICATION_CHECKLIST.md`.

### 1.5.0 ‚Äî 2026-02-12
- NEW: Hybrid Verified Model ‚Äî `completed` (verified) vs `completed_unverified` (force-completed, excluded from KPIs).
- NEW: Job status `completed_unverified` for manager-overridden jobs.
- NEW: Audit fields: `verification_override`, `force_completed_at`, `force_completed_by`, `force_complete_reason`.
- NEW: JobCheckEvent immutability ‚Äî save() override prevents updates after creation.
- NEW: Row-level locking on all mutation endpoints (`select_for_update()` + `transaction.atomic()`).
- CHANGED: Force-complete allowed only from `in_progress` (was: `scheduled`). Check-in GPS proof now required.
- CHANGED: Force-complete transitions to `completed_unverified` (was: `completed`).
- CHANGED: Force-complete request format ‚Äî `reason` (free text) instead of `reason_code` + `comment`.
- CHANGED: Analytics endpoints exclude `completed_unverified` from standard KPIs.
- FIXED: Race conditions eliminated on checklist toggle, bulk update, check-out, photo upload.
- FIXED: scheduled_end_time validation enforced (must be > scheduled_start_time).
- BREAKING: Force-complete endpoint request/response format changed.
- BREAKING: Force-complete blocked when job status is `scheduled`.

### 1.4.0 ‚Äî 2026-02-04
- NEW: Force-complete flow for managers with SLA violation enforcement.
- NEW: Reports v2 email delivery with audit log (job / weekly / monthly).
- CHANGED: Analytics now uses live data instead of mocks.
- FIXED: Clarified SLA engine as single source of truth for reports and analytics.

### 0.1.0 ‚Äî 2026-02-04
- NEW: –î–æ–±–∞–≤–ª–µ–Ω CSV export –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö jobs –¥–ª—è audit –∏ owner/manager –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
  - Endpoint: `GET /api/manager/jobs/export/`
  - –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ `completed` jobs –≤ –∑–∞–¥–∞–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ –¥–∞—Ç (`from` / `to`).
  - Source of truth –ø–æ –≤—Ä–µ–º–µ–Ω–∏ ‚Äî `actual_end_time`, –∞ –Ω–µ `scheduled_date`.
  - –í —ç–∫—Å–ø–æ—Ä—Ç –≤–∫–ª—é—á–µ–Ω—ã: job, location, cleaner, duration, SLA status, SLA reasons, force-complete —Ñ–ª–∞–≥.
  - –≠–∫—Å–ø–æ—Ä—Ç read-only, –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ execution, SLA –∏–ª–∏ reports.
- FIXED: –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ —Å–µ–º–∞–Ω—Ç–∏–∫–∞ audit-export –∫–∞–∫ Layer 5 feature –±–µ–∑ UI –∏ –±–µ–∑ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ.

### 1.0.0 ‚Äî 2026-02-04
- NEW: –ù–∞ —ç–∫—Ä–∞–Ω–µ Job History –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ **‚ÄúDownload CSV‚Äù**, –∫–æ—Ç–æ—Ä–∞—è –¥–µ—Ä–≥–∞–µ—Ç
  `GET /api/manager/jobs/export/` —Å —Ç–µ–∫—É—â–∏–º –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º –¥–∞—Ç –∏ (–ø–æ –º–µ—Ä–µ –ø–æ—è–≤–ª–µ–Ω–∏—è) —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
  –ª–æ–∫–∞—Ü–∏–∏/–∫–ª–∏–Ω–µ—Ä–∞/SLA-—Å—Ç–∞—Ç—É—Å–∞. –≠–∫—Å–ø–æ—Ä—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –∞—É–¥–∏—Ç–æ—Ä—Å–∫–∏–π –≤—ã–≥—Ä—É–∑–æ—á–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç.
- CHANGED: –î–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç –≤ Job History —Ç–µ–ø–µ—Ä—å —è–≤–ª—è–µ—Ç—Å—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –ø—Ä–∞–≤–¥—ã
  –∏ –¥–ª—è –≤—ã–±–æ—Ä–∫–∏ —Å–ø–∏—Å–∫–∞ (`/api/manager/jobs/history/`), –∏ –¥–ª—è CSV-—ç–∫—Å–ø–æ—Ä—Ç–∞ ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
  –ø–æ–¥ —ç–∫—Å–ø–æ—Ä—Ç –Ω–µ –≤–≤–æ–¥—è—Ç—Å—è.
- FIXED: –£—Ç–æ—á–Ω–µ–Ω—ã –æ–∂–∏–¥–∞–Ω–∏—è –ø–æ UX Data Export:
  –∫–Ω–æ–ø–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –±–µ–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞, –ø—É—Å—Ç–æ–π –ø–µ—Ä–∏–æ–¥ –æ–±—è–∑–∞–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø—É—Å—Ç–æ–π CSV
  (—Ç–æ–ª—å–∫–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫), –æ—à–∏–±–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞/—Å–µ—Ç–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –≤–∏–¥–µ toast, –Ω–µ –ª–æ–º–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü—É.

### X.Y.Z ‚Äî 2026-02-04
- NEW: Locations deletion is blocked when referenced by jobs (database-level PROTECT).
- NEW: Operational rule established ‚Äî locations are deactivated via `is_active` instead of deletion.
- FIXED: Guaranteed referential integrity for `Job.location` across job history.

### 1.6.0 ‚Äî 2026-02-05
- NEW: –í —Ä–∞–∑–¥–µ–ª–µ Locations –¥–æ–±–∞–≤–ª–µ–Ω Google Maps —Å draggable-–º–∞—Ä–∫–µ—Ä–æ–º –¥–ª—è —Ç–æ—á–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.
- NEW: –î–æ–±–∞–≤–ª–µ–Ω –∞–¥—Ä–µ—Å–Ω—ã–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ Google Places Autocomplete —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.
- CHANGED: –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–¥–∞–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ª–æ–∫–∞—Ü–∏–∏ ‚Äî —Ç–µ–ø–µ—Ä—å —á–µ—Ä–µ–∑ Google Maps –≤–º–µ—Å—Ç–æ Leaflet.
- FIXED: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (autocomplete + –∫–∞—Ä—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –µ–¥–∏–Ω—ã–π —Ñ–ª–æ—É).
- DEPRECATED: Leaflet / OpenStreetMap –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ª–æ–∫–∞—Ü–∏–π.

### 0.6.1 ‚Äî 2026-02-05
- NEW: enforced Google Maps & Places API usage constraints for development environment.
- CHANGED: Google Maps API key is now restricted by HTTP referrer (`http://localhost:8080/*`).
- CHANGED: allowed Google APIs explicitly limited to Maps JavaScript API and Places API.
- FIXED: added hard monthly billing limit ($10) with alert thresholds at 50%, 90%, and 100%.

### 1.6.2 ‚Äî 2026-02-05
- NEW: –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–∏–ª–æ rate-limiting –¥–ª—è Google Places Autocomplete –≤ —Ñ–æ—Ä–º–µ Locations.
- CHANGED: address autocomplete –±–æ–ª—å—à–µ –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –¥–µ—Ä–≥–∞—Ç—å Places API –Ω–∞ –∫–∞–∂–¥—ã–π –≤–≤–æ–¥ —Å–∏–º–≤–æ–ª–∞ ‚Äî –∑–∞–ø—Ä–æ—Å—ã –¥–µ–ª–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ debounce –∏ –ø—Ä–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–π –¥–ª–∏–Ω–µ —Å—Ç—Ä–æ–∫–∏.
- FIXED: —Å–Ω—è—Ç–∞ –Ω–µ—è–≤–Ω–æ—Å—Ç—å –ø–æ —Ä–∞—Å—Ö–æ–¥–∞–º –∏ –Ω–∞–≥—Ä—É–∑–∫–µ –Ω–∞ Places API –∑–∞ —Å—á—ë—Ç —è–≤–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ UI.


### Locations ‚Äî Google Maps integration rules

- –î–ª—è –≤—ã–±–æ—Ä–∞ –∞–¥—Ä–µ—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Google Places Autocomplete.
- –ö–∞—Ä—Ç–∞ –∏ –ø–æ–∏—Å–∫ –∞–¥—Ä–µ—Å–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
  - AddressAutocompleteInput ‚Äî –æ—Ç–≤–µ—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∑–∞ –ø–æ–∏—Å–∫ –∏ –≤—ã–±–æ—Ä –∞–¥—Ä–µ—Å–∞;
  - LocationMap ‚Äî –æ—Ç–≤–µ—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∑–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã –∏ –º–∞—Ä–∫–µ—Ä–∞.
- –ò—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã –ø–æ –∞–¥—Ä–µ—Å—É –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º ‚Äî state —Ñ–æ—Ä–º—ã LocationForm.
- –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∞–¥—Ä–µ—Å–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –∫–∞—Ä—Ç—É –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
- Google Maps API –∏ Places API –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ LocationForm (lazy load), –∞ –Ω–µ –≥–ª–æ–±–∞–ª—å–Ω–æ.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä API:
  - Maps JavaScript API
  - Places API
- Manual latitude / longitude input ‚Äî fallback-only, –Ω–µ –æ—Å–Ω–æ–≤–Ω–æ–π UX-–ø–æ—Ç–æ–∫.

#### Places Autocomplete ‚Äî rate limiting (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

–ß—Ç–æ–±—ã –Ω–µ —Å–ø–∞–º–∏—Ç—å Google Places –∏ –Ω–µ —Å–∂–µ—á—å –±—é–¥–∂–µ—Ç:

- –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ Places API –¥–µ–ª–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ debounced-–≤—ã–∑–æ–≤ (300‚Äì500 –º—Å –ø–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–≤–æ–¥–∞);
- –µ—Å–ª–∏ —Ç–µ–∫—É—â–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–æ–∏—Å–∫–∞ –∫–æ—Ä–æ—á–µ 3 —Å–∏–º–≤–æ–ª–æ–≤ ‚Äî –∑–∞–ø—Ä–æ—Å –∫ Places API –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤–æ–æ–±—â–µ;
- –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Ç–æ—Ç –∂–µ —Ç–µ–∫—Å—Ç, —á—Ç–æ –∏ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –∑–∞–ø—Ä–æ—Å–µ ‚Äî –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è;
- –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä–æ–∫–∏ –ø–æ–∏—Å–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ Places API –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–º–µ–Ω—ë–Ω (cancel / ignore stale response);
- –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –¥–µ—Ä–≥–∞—Ç—å Places API ‚Äú–Ω–∞ –º–∞—É–Ω—Ç–µ‚Äù –∏–ª–∏ –≤ —Ñ–æ–Ω–µ ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ —è–≤–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º—É –≤–≤–æ–¥—É.


## 0. –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

**Backend (—è–¥—Ä–æ + —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ + –æ—Ç—á—ë—Ç—ã)**  
–ì–æ—Ç–æ–≤ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ–¥–∞–∫—à–Ω-–∫–ª–∏–µ–Ω—Ç–∞–º–∏:

- auth / roles  
- jobs + status-flow  
- check-in / check-out  
- checklist (templates + job snapshot + SLA)  
- photos (before / after, EXIF, distance)  
- Job PDF  
- SLA engine (micro-SLA v1)  
- Performance layer  
- Reports v2 + Email + Email history  
- Analytics  
- commercial enforcement (`company_blocked`, `trial_expired`, trial job limits)

**Mobile Cleaner App**

–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º API:

- login  
- Today Jobs  
- Job Details  
- check-in / check-out  
- before / after photos  
- checklist —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø—É–Ω–∫—Ç–∞–º–∏ (toggle / completion)  
- —Ç–∞–π–º–ª–∞–π–Ω JobCheckEvent  
- –ø—Ä–æ—Å–º–æ—Ç—Ä Job PDF

–ú–æ–±–∏–ª—å–Ω—ã–π Layer 1 (execution-–ª–æ–≥–∏–∫–∞) —Å—á–∏—Ç–∞–µ—Ç—Å—è **–∑–∞–∫—Ä—ã—Ç—ã–º**; –¥–∞–ª—å—à–µ ‚Äî —Ç–æ–ª—å–∫–æ UI-–ø–æ–ª–∏—Ä–æ–≤–∫–∞.

**Manager Portal**

- Planning / Create Job  
- Job History  
- Job Details  
- Settings (Company, Cleaners, soft-limits)  
- Reports (weekly / monthly, PDF, email)  
- SLA drill-down (violations)  
- Analytics (summary + cleaners performance)  
- Email history  
- commercial read-only mode

---

## 1. Phase 11.1 ‚Äî Freeze & Guards (Mobile Cleaner)

–ú–æ–±–∏–ª—å–Ω—ã–π execution-core –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.

–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞:

Login ‚Üí Today Jobs ‚Üí Job Details ‚Üí Check-in ‚Üí Photos / Checklist ‚Üí Check-out ‚Üí PDF

–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã:
- `JobDetailsScreen`
- `api/client.ts`

–í –∫–æ–¥–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞—â–∏—Ç–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞–¥:
- `handleCheckIn`
- `handleCheckOut`
- `handleTakePhoto`
- `handleSharePdf`
- checklist-handler
- API-–≤—ã–∑–æ–≤–∞–º–∏

### –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

* –Ω–µ –º–µ–Ω—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ —à–∞–≥–æ–≤;
* –Ω–µ —Ç—Ä–æ–≥–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç payload‚Äô–æ–≤;
* –Ω–µ –º–µ–Ω—è—Ç—å URL –±–µ–∑ —Ä–µ–≤—å—é backend + Manager Portal + PDF.

–†–∞–∑—Ä–µ—à–µ–Ω—ã —Ç–æ–ª—å–∫–æ –∫–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∫–∏ UI.  
–ò–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –≤ —ç—Ç–∏—Ö —Ñ–∞–π–ª–∞—Ö –¥–µ–ª–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —è–≤–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –∏ –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ–≥–æ–Ω–∞ —Ñ–ª–æ—É.

---

## 2. GPS Handling (Mobile)

–í—Å—è —Ä–∞–±–æ—Ç–∞ —Å GPS –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑:

`mobile-cleaner/src/utils/gps.ts`

### –†–µ–∂–∏–º—ã

**DEV**
* –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã job, —á—Ç–æ–±—ã –æ–±–æ–π—Ç–∏ distance-check‚Äô–∏.

**PROD**
* –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π GPS —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ `expo-location`.

### –ó–∞–ø—Ä–µ—â–µ–Ω–æ

* –∏–Ω–ª–∞–π–Ω–∏—Ç—å GPS-–ª–æ–≥–∏–∫—É –≤ —ç–∫—Ä–∞–Ω–∞—Ö;
* –æ–±—Ö–æ–¥–∏—Ç—å backend-–≤–∞–ª–∏–¥–∞—Ü–∏—é —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è.

–õ—é–±—ã–µ GPS-–∏–∑–º–µ–Ω–µ–Ω–∏—è ‚Äî —Ç–æ–ª—å–∫–æ –≤ `utils/gps.ts`.

---

## 3. Phase 11.2 ‚Äî Production GPS wrapper (mobile)

–í `mobile-cleaner/src/utils/gps.ts` –¥–æ–±–∞–≤–ª–µ–Ω `getGpsPayload`, –∫–æ—Ç–æ—Ä—ã–π:

1. –ü—ã—Ç–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —á–µ—Ä–µ–∑ `expo-location` (foreground permission).
2. –ü—Ä–∏ –æ—Ç–∫–∞–∑–µ/–æ—à–∏–±–∫–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã job –∫–∞–∫ fallback **–≤ dev-–æ–∫—Ä—É–∂–µ–Ω–∏–∏**.

`JobDetailsScreen` –±–æ–ª—å—à–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∂—ë—Å—Ç–∫–æ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã ‚Äî –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ø—Ä–∏ check-in / check-out –≤—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç `getGpsPayload`.

### app.json

* –ø—Ä–æ–ø–∏—Å–∞–Ω—ã –ø–µ—Ä–º–∏—à–µ–Ω—ã –¥–ª—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∏ –∫–∞–º–µ—Ä—ã (iOS + Android),
* –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –ø–ª–∞–≥–∏–Ω—ã `expo-location` –∏ `expo-image-picker`,
* –ø—Ä–æ–µ–∫—Ç –ø—Ä–∏–≤—è–∑–∞–Ω –∫ EAS (`extra.eas.projectId`, `owner`), —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å dev-–±–∏–ª–¥—ã —á–µ—Ä–µ–∑ `eas build`.

---

## 4. Phase 11.3 ‚Äî Offline groundwork (architecture only)

–î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∏–ø—ã –æ—Ñ—Ñ–ª–∞–π–Ω-–æ—á–µ—Ä–µ–¥–∏ (`src/offline/types.ts`) –∏ –∑–∞—â–∏—Ç–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ `JobDetailsScreen`.

–†–µ–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ñ—Ñ–ª–∞–π–Ω-–ª–æ–≥–∏–∫–∏ (storage, retries, outbox-processing) –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ –æ—Ç–ª–æ–∂–µ–Ω–∞.

–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
* –ø–æ–ª–Ω–æ—Å—Ç—å—é **online-first**;
* –æ—Ñ—Ñ–ª–∞–π–Ω-–º–æ–¥–µ–ª—å –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∏–ø–æ–≤ –∏ –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–µ–π.

---

## 5. Landing Status (Frozen)

–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è –ª–µ–Ω–¥–∏–Ω–≥–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∏ —Å–º—ã—Å–ª—É.

–î–æ–ø—É—Å—Ç–∏–º—ã —Ç–æ–ª—å–∫–æ:
* –ø—Ä–∞–≤–∫–∏ —Ç–µ–∫—Å—Ç–∞ (–∫–æ–ø–∏—Ä–∞–π—Ç, —Ç–æ–Ω, –º–∏–∫—Ä–æ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏),
* –≤–∏–∑—É–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞ (–∞–Ω–∏–º–∞—Ü–∏–∏, –æ—Ç—Å—Ç—É–ø—ã, —Ç–∞–π–º–∏–Ω–≥–∏),
* –∑–∞–º–µ–Ω–∞ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤.

–ó–∞–ø—Ä–µ—â–µ–Ω–æ:
* –º–µ–Ω—è—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±–ª–æ–∫–æ–≤,
* –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å–º—ã—Å–ª–æ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏,
* –æ–±–µ—â–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—É—é backend-–ª–æ–≥–∏–∫–æ–π.

---

## 6. Landing & Demo Status

Landing page –∏ demo page —Å—á–∏—Ç–∞—é—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–º–∏ (v1 frozen).

–î–∞–ª—å–Ω–µ–π—à–∞—è —Ä–∞–±–æ—Ç–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞:
* –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–æ–π —Ç–µ–∫—Å—Ç–∞,
* –≤–∏–∑—É–∞–ª—å–Ω–æ–π –ø–æ–ª–∏—Ä–æ–≤–∫–æ–π,
* –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏ (—Ç–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∏),
* –∑–∞–º–µ–Ω–æ–π —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤.

**–í–Ω–µ scope:**
* –Ω–æ–≤—ã–µ –¥–µ–º–æ-–∏–Ω—Ç–µ—Ä–∞–∫—Ü–∏–∏,
* –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —Å–∏–º—É–ª—è—Ü–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–∞,
* –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–µ—Ç–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏,
* –ª—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞—é—â–∏–µ –Ω–æ–≤—ã–π backend-behavior.

---

## 7. Landing & Demo Integration (Completed)

CleanProof landing –∏ demo request —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–π —Å–ª–æ–π (`/cleanproof`, `/cleanproof/demo`):

* –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –æ—Ç product-layout;
* –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç auth;
* –Ω–µ –≤–µ–¥—É—Ç –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ä–æ—É—Ç—ã –ø—Ä–æ–¥—É–∫—Ç–∞.

Scope –∑–∞–º–æ—Ä–æ–∂–µ–Ω: –¥–∞–ª—å—à–µ ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–∞–≤–∫–∏ –∫–æ–ø–∏—Ä–∞–π—Ç–∞, –≤–∏–∑—É–∞–ª–∞ –∏ —Ç–æ—á–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

---

## 8. Location input & map behavior (LEGACY, –¥–æ Google Maps –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)

> –†–∞–∑–¥–µ–ª –æ—Å—Ç–∞–≤–ª–µ–Ω –∫–∞–∫ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞. –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è Locations –∏ Google Maps –æ–ø–∏—Å–∞–Ω—ã –≤ —Ä–∞–∑–¥–µ–ª–µ
> "Locations ‚Äî Google Maps integration rules" –∏ –≤ changelog 1.6.0+.

–§–æ—Ä–º–∞ Location **–Ω–∞–º–µ—Ä–µ–Ω–Ω–æ** –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç autocomplete –∏ –∞–≤—Ç–æ–≥–µ–æ–∫–æ–¥–∏–Ω–≥.

* `Name` –∏ `Address` ‚Äî —Å–≤–æ–±–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç **–¥–ª—è –ª—é–¥–µ–π**, –Ω–µ –¥–ª—è –ª–æ–≥–∏–∫–∏.
* –ö–∞—Ä—Ç–∞ ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º.
* –ú–µ–Ω–µ–¥–∂–µ—Ä **–æ–±—è–∑–∞–Ω** –≤—Ä—É—á–Ω—É—é –ø–æ—Å—Ç–∞–≤–∏—Ç—å –ø–∏–Ω –Ω–∞ –∫–∞—Ä—Ç–µ, —á—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å `latitude` –∏ `longitude`.

–ü—Ä–∏—á–∏–Ω—ã:
* –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∫–ª–∏–Ω–µ—Ä–∞ –∏ GPS check-in / check-out –≤–∞–ª–∏–¥–∞—Ü–∏–∏;
* typed address –¥–∞—ë—Ç –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç—å (–æ—Å–æ–±–µ–Ω–Ω–æ –≤ UAE);
* —Ç–∞–∫–æ–π –¥–∏–∑–∞–π–Ω –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å —Ç–æ—á–∫—É.

–ë—É–¥—É—â–∏–π enhancement (–≤–Ω–µ —Ç–µ–∫—É—â–µ–≥–æ scope):
* address autocomplete / –≥–µ–æ–∫–æ–¥–∏–Ω–≥;
* ‚ÄúFind on map‚Äù;
* —Ä—É—á–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Å—Ç–∞—ë—Ç—Å—è —Ñ–∏–Ω–∞–ª—å–Ω—ã–º —à–∞–≥–æ–º.

---

## 9. Map-first location discipline

–ü—Ä–æ–¥—É–∫—Ç –∂—ë—Å—Ç–∫–æ —Ä–∞–∑–¥–µ–ª—è–µ—Ç:
* —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏ —á–∏—Ç–∞–µ–º—ã–π –∞–¥—Ä–µ—Å,
* operational-–≥–µ–æ–ø–æ–∑–∏—Ü–∏—é.

–ò–Ω–∂–µ–Ω–µ—Ä—ã –¥–æ–ª–∂–Ω—ã —Å—á–∏—Ç–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∞–¥—Ä–µ—Å **–Ω–µ–Ω–∞–¥—ë–∂–Ω—ã–º**.  
–õ—é–±–∞—è –ª–æ–≥–∏–∫–∞ ‚Äú–≥–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞–¥–∞—á–∞‚Äù –æ–ø–∏—Ä–∞–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã**.

---

## 10. Trial entry point (–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω)

–°—Ç–∞—Ä—Ç trial –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Pricing Page (`/cleanproof/pricing`).

* –ö–Ω–æ–ø–∫–∞ **Start 7-day trial** –≤–µ–¥—ë—Ç –Ω–∞ —ç–∫—Ä–∞–Ω Login (`/`) —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `?trial=standard`.
* –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏—à—ë–ª —Å `?trial=standard`, backend:
  * —Å–æ–∑–¥–∞—ë—Ç Company,
  * –∑–∞–ø—É—Å–∫–∞–µ—Ç 7-–¥–Ω–µ–≤–Ω—ã–π trial-–ø–ª–∞–Ω.

`/cleanproof/demo` ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π, –Ω–µ —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å trial –∏ –æ–ø–ª–∞—Ç–æ–π.

---

## 11. Marketing Layer Status (Frozen v1)

–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–π —Å–ª–æ–π CleanProof:
* —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ –∑–∞–≤–µ—Ä—à—ë–Ω;
* –≤–∏–∑—É–∞–ª—å–Ω–æ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω.

–î–∞–ª—å—à–µ **–Ω–µ–ª—å–∑—è**:
* –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã,
* —Ä–∞—Å—à–∏—Ä—è—Ç—å –º–µ–Ω—é,
* –≤–≤–æ–¥–∏—Ç—å –Ω–æ–≤—ã–µ CTA –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–π –ø—Ä–æ–¥—É–∫—Ç–æ–≤–æ–π/–±–µ–∫–µ–Ω–¥-–æ–ø–æ—Ä—ã.

–§–æ–∫—É—Å –∏–Ω–∂–µ–Ω–µ—Ä–∏–∏:
* product stability,
* –æ–Ω–±–æ—Ä–¥–∏–Ω–≥,
* –ª–æ–≥–∏–∫–∞ trial/enforcement.

---

## 12. Trial flow (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ)

–ü—É—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

1. Pricing ‚Üí –∫–Ω–æ–ø–∫–∞ **Start 7-day trial**
2. –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Login —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `?trial=standard`
3. –£—Å–ø–µ—à–Ω—ã–π login –º–µ–Ω–µ–¥–∂–µ—Ä–∞
4. Backend –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç trial —á–µ—Ä–µ–∑ `/api/cleanproof/trials/start/`
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ø–∞–¥–∞–µ—Ç –≤ dashboard —É–∂–µ –≤ trial-—Å–æ—Å—Ç–æ—è–Ω–∏–∏

–ù–∞ —Ç–µ–∫—É—â–µ–º —ç—Ç–∞–ø–µ:
* trial –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ —É—Ä–æ–≤–Ω–µ UI;
* –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ jobs / cleaners —Å–∞–º –ø–æ —Å–µ–±–µ;
* –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ core business-–ª–æ–≥–∏–∫—É;
* –≤ UI ‚Äî —Ç–æ–ª—å–∫–æ –∏–Ω—Ñ–æ—Ä–º–∏—Ä—É—é—â–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è;
* –∫–Ω–æ–ø–∫–∞ Upgrade –≤–µ–¥—ë—Ç –Ω–∞ `/cleanproof/pricing`.

---

## 13. Trial UX & Enforcement

Trial —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ **UX-—Å–ª–æ–π –±–µ–∑ –∂—ë—Å—Ç–∫–æ–≥–æ enforcement**:

* Backend –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç trial-—Å—Ç–∞—Ç—É—Å –∏ usage;
* —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ backend **–º–æ–∂–µ—Ç** –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è;
* –ø–æ —Ñ–∞–∫—Ç—É –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –≤—ã—Ä–∞–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ UI –∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –∫–æ–¥—ã (`trial_expired`, `company_blocked`, `trial_jobs_limit_reached`);
* –∂—ë—Å—Ç–∫–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –±–∏–ª–ª–∏–Ω–≥–æ–º, –≤–≤–æ–¥—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ backend‚Äô–µ.

---

## 14. Trial expired UX (–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ)

–ü–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è trial:
* –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤—ã–ª–µ—Ç–∞–µ—Ç –∏–∑ –ø—Ä–æ–¥—É–∫—Ç–∞;
* –Ω–µ —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç—Å—è —Å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º–∏ –ø—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ;
* —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É.

UX-–ø—Ä–∏–Ω—Ü–∏–ø—ã:
* `trial expired` ‚â† –æ—à–∏–±–∫–∞;
* `trial expired` ‚â† –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞;
* –Ω–∏–∫–∞–∫–∏—Ö —Ç—Ä–µ–≤–æ–∂–Ω—ã—Ö –º–æ–¥–∞–ª–æ–∫;
* –º—è–≥–∫–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è;
* Upgrade ‚Äî –æ–ø—Ü–∏—è.

---

## 15. Trial soft-limits UX (Manager)

Soft-limits —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–∞–∫ **—á–∏—Å—Ç–∞—è UX-–∏–Ω–¥–∏–∫–∞—Ü–∏—è**, –±–µ–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ cleaners (–∫—Ä–æ–º–µ —Ç–µ—Ö, —á—Ç–æ —è–≤–Ω–æ –≤–∫–ª—é—á–∏—Ç backend).

–¢–µ–∫—É—â–∏–µ soft-limits:
* –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ cleaners;
* –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ jobs (per day) ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–µ–Ω–µ–¥–∂–µ—Ä—É, –Ω–æ —Ä–µ–∞–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É jobs –Ω–∞ trial —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –Ω–∞ backend –¥–ª—è Create Job.

–ü–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ UI:

* –ø—Ä–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ –∫ –ª–∏–º–∏—Ç—É ‚Äî –∏–Ω—Ñ–æ—Ä–º–∏—Ä—É—é—â–∏–π banner;
* –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ ‚Äî UX –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è —Å–∞–º –ø–æ —Å–µ–±–µ;
* –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç—É –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ backend –Ω–µ –≤–µ—Ä–Ω—ë—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥;
* –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è Upgrade –∫–∞–∫ –æ–ø—Ü–∏—è.

–ü—Ä–∏–Ω—Ü–∏–ø:  
Soft-limits = –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ —Ç–∞—Ä–∏—Ñ–∞, –∞ –Ω–µ –∂—ë—Å—Ç–∫–∏–π guard –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ.

---

## 16. Company settings UX

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ Settings —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:

* –∑–∞–≥—Ä—É–∑–∫–∞ –ª–æ–≥–æ—Ç–∏–ø–∞ –∫–æ–º–ø–∞–Ω–∏–∏ (client-side preview),
* —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ cleaners (list + add modal),
* –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ trial soft-limits –ø–æ cleaners,
* –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ñ—Ä–æ–Ω—Ç–æ–≤—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ soft-limits.

–ó–∞–≥—Ä—É–∑–∫–∞ –ª–æ–≥–æ—Ç–∏–ø–∞ –ø–æ–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ preview-—Ä–µ–∂–∏–º–µ –∏ –¥–∞–ª–µ–µ —Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å backend.

---

## 17. Settings (Company & Cleaners) ‚Äî v1

–≠–∫—Ä–∞–Ω Settings —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä—ë—Ö –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –±–ª–æ–∫–æ–≤:

### 17.1 Company profile

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `GET /api/manager/company/` –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏.
- –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `PATCH /api/manager/company/`.
- –õ–æ–≥–æ—Ç–∏–ø –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º multipart-–∑–∞–ø—Ä–æ—Å–æ–º  
  `POST /api/manager/company/logo/`,  
  –æ—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ `logo_url`, –∫–æ—Ç–æ—Ä—ã–π —Ñ—Ä–æ–Ω—Ç —Å—Ä–∞–∑—É –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –≤ –ø—Ä–µ–≤—å—é.

### 17.2 Team / Cleaners

- –°–ø–∏—Å–æ–∫ –∫–ª–∏–Ω–µ—Ä–æ–≤: `GET /api/manager/cleaners/`.
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–Ω–µ—Ä–∞: `POST /api/manager/cleaners/`.
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–∏–º—è, –∫–æ–Ω—Ç–∞–∫—Ç—ã, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å):  
  `PATCH /api/manager/cleaners/<id>/`.
- `is_active` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ —É–¥–∞–ª–µ–Ω–∏—è; —É–¥–∞–ª–µ–Ω–∏—è –∫–ª–∏–Ω–µ—Ä–æ–≤ –∏–∑ —Å–∏—Å—Ç–µ–º—ã –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–æ.

### 17.3 Trial soft-limits

- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–æ–ª—å–∫–æ usage-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (–∫–æ–ª-–≤–æ –∫–ª–∏–Ω–µ—Ä–æ–≤ vs soft-limit).
- –ù–µ –±–ª–æ–∫–∏—Ä—É—é—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–Ω–µ—Ä–æ–≤ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ.
- –ü—Ä–∏ –ø–æ–¥—Ö–æ–¥–µ –∫ –ª–∏–º–∏—Ç—É –∏ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –º—è–≥–∫–∏–π –±–∞–Ω–Ω–µ—Ä  
  —Å —Å—Å—ã–ª–∫–æ–π –Ω–∞ `/cleanproof/pricing`.

---

## 18. –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ / Manager dashboard

–î–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä—Å–∫–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã —Å –∫–æ–º–ø–∞–Ω–∏–µ–π –∏ –∫–ª–∏–Ω–µ—Ä–∞–º–∏.

Backend:

* —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã `/api/manager/company/` (GET/PATCH),
* `/api/manager/company/logo/` (POST),
* `/api/manager/cleaners/` (GET/POST/PATCH).

Frontend:

* –≤ `dubai-control/src/api/client.ts` –µ—Å—Ç—å –æ–±—ë—Ä—Ç–∫–∏ –¥–ª—è —ç—Ç–∏—Ö –º–µ—Ç–æ–¥–æ–≤;
* —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Settings –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏, —Å–ø–∏—Å–æ–∫ –∫–ª–∏–Ω–µ—Ä–æ–≤ –∏ usage-summary;
* –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –∫–æ–º–ø–∞–Ω–∏–∏, –¥–æ–±–∞–≤–∏—Ç—å/–æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–Ω–µ—Ä–∞;
* –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –∫ –∑–∞–≥—Ä—É–∑–∫–µ –ª–æ–≥–æ—Ç–∏–ø–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

---

## 19. Locations ‚Äî –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã

–õ–æ–∫–∞—Ü–∏–∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ –µ–¥–∏–Ω—ã–π backend-–∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã.  
Frontend –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç mock-–¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Å–ø–∏—Å–∫–∏.

Backend –¥–ª—è Locations:

* –º–æ–¥–µ–ª—å, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ CRUD API —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã;
* –ª–æ–∫–∞—Ü–∏–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ Company;
* –≤—Å–µ job-—Å—É—â–Ω–æ—Å—Ç–∏ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –ª–æ–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `location_id`.

Frontend:

* –±–∞–∑–æ–≤—ã–π UI (list / create / edit) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω;
* `LocationsContext` —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å backend;
* –Ω–æ–≤–∞—è –ª–æ–∫–∞—Ü–∏—è –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–∞:
  * –≤ Job Planning,
  * –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ job,
  * –≤ –º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (—á–µ—Ä–µ–∑ —Å–≤—è–∑–∞–Ω–Ω—ã–µ job‚Äô—ã);
* –Ω–æ–≤—ã–µ –ª–æ–∫–∞—Ü–∏–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ Create Job –∏ Job Planning –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —ç—Ç–∞–ø–∞:

* –∫–∞—Ä—Ç–∞ ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç;
* —Ç–æ—á–Ω–æ—Å—Ç—å –≥–µ–æ–∫–æ–¥–∏–Ω–≥–∞ –∏ –ø–æ–∏—Å–∫ –∞–¥—Ä–µ—Å–æ–≤ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã;
* —É–ª—É—á—à–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã –æ—Ç–ª–æ–∂–µ–Ω–æ –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è –ø–ª–∞—Ç—è—â–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏–ª–∏ —è–≤–Ω–æ–≥–æ —Ñ–∏–¥–±—ç–∫–∞.

–¶–µ–ª—å: –∏—Å–∫–ª—é—á–∏—Ç—å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏ –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏.

---

## 20. Trial & History ‚Äî —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–ù–∞ —Ç–µ–∫—É—â–µ–º —ç—Ç–∞–ø–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

* **self-serve signup** –º–µ–Ω–µ–¥–∂–µ—Ä–∞;
* –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ trial;
* backend-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è trial **–ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É jobs** (—á–µ—Ä–µ–∑ usage-summary –∏ guards –≤ Create Job API: `trial_jobs_limit_reached`, `trial_expired`, `company_blocked`);
* Job History (backend + UI);
* –µ–¥–∏–Ω—ã–π Locations flow (backend ‚Üí UI ‚Üí Create Job).

–ö–ª—é—á–µ–≤–æ–π –ø—Ä–∏–Ω—Ü–∏–ø:

> Backend ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –ø–æ trial-—Å–æ—Å—Ç–æ—è–Ω–∏—è–º –∏ usage.  
> Frontend –Ω–µ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∏ –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É.

---

## 21. SLA / Exceptions ‚Äî —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–í –ø—Ä–æ–µ–∫—Ç –¥–æ–±–∞–≤–ª–µ–Ω –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π SLA-—Å–ª–æ–π (**micro-SLA v1**), —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ backend.

* SLA –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫ derived-—Å—Ç–∞—Ç—É—Å (`ok` / `violated`) –¥–ª—è –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö jobs.
* –ò—Å—Ç–æ—á–Ω–∏–∫ ‚Äî —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ proof-—Ñ–ª–∞–≥–∏: check-in/out, –Ω–∞–ª–∏—á–∏–µ before/after-—Ñ–æ—Ç–æ, —á–µ–∫–ª–∏—Å—Ç.
* Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
  * `sla_status`;
  * `sla_reasons[]` ‚Äî machine-readable –∫–æ–¥—ã –ø—Ä–∏—á–∏–Ω  
    (`missing_before_photo`, `missing_after_photo`, `checklist_not_completed` –∏ —Ç.–¥.).

–ù–∞ frontend SLA –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:

* –≤–∏–∑—É–∞–ª—å–Ω–æ–π –ø–æ–º–µ—Ç–∫–∏ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö jobs –≤ Planning –∏ History;
* —Ñ–∏–ª—å—Ç—Ä–∞ ‚ÄúOnly problem jobs‚Äù –≤ History;
* read-only –±–ª–æ–∫–∞ SLA –≤ Job Details  
  (–ø—Ä–∏—á–∏–Ω—ã –∫–∞–∫ —è–∫–æ—Ä—è –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –±–ª–æ–∫–∞–º: —Ñ–æ—Ç–æ, —á–µ–∫–ª–∏—Å—Ç –∏ —Ç.–ø.).

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ:

* SLA –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–π –∏ –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π;
* –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ execution-–ª–æ–≥–∏–∫—É job;
* –≥–æ—Ç–æ–≤ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é  
  (time-based rules, repeated violations, analytics).

---

### Reports & Sidebar UX (v1 ‚Üí –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)

Reports page —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–∞–∫ read-only aggregation layer –ø–æ–≤–µ—Ä—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö job / SLA / performance –¥–∞–Ω–Ω—ã—Ö.  
–ù–æ–≤–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ **–Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ** ‚Äî backend –æ—Å—Ç–∞—ë—Ç—Å—è source of truth.

Frontend updates:

- Added collapsible sidebar (expanded / icon-only mode)
- Sidebar state persisted via localStorage
- Main layout supports full-width content when sidebar is collapsed
- Reports page –≤–∫–ª—é—á–∞–µ—Ç owner overview –∏ manager-level summaries
- Reports –∏ Email actions –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ backend (—Å–º. —Ä–∞–∑–¥–µ–ª—ã –Ω–∏–∂–µ –ø—Ä–æ Email PDF, Reports Email –∏ Email history).

Known limitations:

- Layout width –¥–æ –∫–æ–Ω—Ü–∞ –Ω–µ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω: –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–∞—Ä—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—Å—ë –µ—â—ë –∏—Å–ø–æ–ª—å–∑—É—é—Ç max-width –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã.
- –í–∏–∑—É–∞–ª—å–Ω–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –≥—Ä–∞—Ñ–∏–∫–æ–≤/—Ç–∞–±–ª–∏—Ü –º–æ–≥—É—Ç –¥–æ—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏.

Current state —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω—ã–º –∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–º –¥–ª—è –¥–µ–º–æ –∏ —Ä–∞–Ω–Ω–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.

---

## 23. Performance Layer (SLA Aggregation)

–ü–æ–≤–µ—Ä—Ö SLA –¥–æ–±–∞–≤–ª–µ–Ω –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π performance-—Å–ª–æ–π –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.

Backend:

* –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç SLA-–Ω–∞—Ä—É—à–µ–Ω–∏—è –ø–æ –∫–ª–∏–Ω–µ—Ä–∞–º –∏ –ª–æ–∫–∞—Ü–∏—è–º;
* —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ `completed` jobs –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥;
* —Å—á–∏—Ç–∞–µ—Ç:
  * `jobs_total`,
  * `jobs_with_sla_violations`,
  * `violation_rate` (violations / jobs_total),
  * `has_repeated_violations`  
    (‚â•2 violations —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º reason-code –∑–∞ –ø–µ—Ä–∏–æ–¥).

Frontend:

* –ø–æ–ª—É—á–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–µ –∞–≥—Ä–µ–≥–∞—Ç—ã;
* –Ω–µ –¥–µ–ª–∞–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–π.

Performance Layer ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ SLA –∏ Job History:

* –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–π;
* –±–µ–∑ –Ω–æ–≤—ã—Ö –±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–µ–π;
* –Ω–µ –º–µ–Ω—è–µ—Ç execution-–ª–æ–≥–∏–∫—É.

---

## 24. SLA Reports (Implementation Notes)

Weekly –∏ monthly SLA-–æ—Ç—á—ë—Ç—ã ‚Äî —Ç–æ–Ω–∫–∏–π –∞–≥–≥—Ä–µ–≥–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–ª–æ–π –ø–æ–≤–µ—Ä—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π SLA/Performance-–ª–æ–≥–∏–∫–∏.

–ü—Ä–∏–Ω—Ü–∏–ø—ã:

* SLA-–ª–æ–≥–∏–∫–∞ –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è; –æ—Ç—á—ë—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—â–∏–µ helpers.
* Backend ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –¥–ª—è:
  * –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –¥–∞—Ç,
  * —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ç–æ–ª—å–∫–æ `completed` jobs,
  * —Å—Ç–∞—Ç—É—Å–∞ SLA –∏ reason-–∫–æ–¥–æ–≤.
* UI –∏ PDF –ø–æ—Ç—Ä–µ–±–ª—è—é—Ç **–æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ aggregated dataset**.

PDF:

* –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ ReportLab;
* –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ—Ç –∂–µ data structure, —á—Ç–æ –∏ JSON-–æ—Ç—á—ë—Ç—ã;
* –∑–∞–≥—Ä—É–∑–∫–∞ –ª–æ–≥–æ—Ç–∏–ø–∞ –∫–æ–º–ø–∞–Ω–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ Company settings,  
  —Ä–µ–Ω–¥–µ—Ä –ª–æ–≥–æ—Ç–∏–ø–∞ –≤ PDF –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞.

–û—Ç—á—ë—Ç—ã:

* read-only;
* –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ —à–µ—Ä–∏–Ω–≥–∞ (owners, stakeholders);
* –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π workflow.

---

## 25. Reports ‚Üí Evidence drill-down

Reports ‚Üí Evidence drill-down —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π read-only —Å–ª–æ–π.

–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π endpoint –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –æ—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö SLA-–º–µ—Ç—Ä–∏–∫  
(weekly / monthly reports) –∫ —Å–ø–∏—Å–∫—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö jobs, –≤—ã–∑–≤–∞–≤—à–∏—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ SLA-–Ω–∞—Ä—É—à–µ–Ω–∏–µ.

Frontend:

* –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ violations (`/reports/violations`);
* –≤—Ö–æ–¥ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—É—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é (reason / cleaner / location + period);
* –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `JobSidePanel` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ job –±–µ–∑ —É—Ö–æ–¥–∞ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

–í–∞–∂–Ω–æ:

–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–µ–π—á–∞—Å –∂—ë—Å—Ç–∫–æ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ñ–æ—Ç–æ –∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —á–µ–∫–ª–∏—Å—Ç–∞ –ø–µ—Ä–µ–¥ —á–µ–∫-–∞—É—Ç–æ–º.  
–ü–æ—ç—Ç–æ–º—É —á–∞—Å—Ç—å SLA-–∫–æ–¥–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `missing_*`) –≤ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º —Ñ–ª–æ—É –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è —Ä–µ–¥–∫–æ –∏ –æ—Å—Ç–∞—ë—Ç—Å—è –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª—å—é –¥–ª—è:

* future policy changes,
* force-complete —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤,
* legacy-–¥–∞–Ω–Ω—ã—Ö.

---

## 26. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç ‚Äî –µ–¥–∏–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è:

* frontend (web),
* mobile cleaner app,
* –ª—é–±–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞, –ø–æ–¥–∫–ª—é—á–∞—é—â–µ–≥–æ—Å—è –∫ API.

–î–æ–∫—É–º–µ–Ω—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:

* –∫–∞–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å—Å—è;
* –∫–∞–∫–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å;
* –∫–∞–∫–∏–µ —Å—Ç–∞—Ç—É—Å—ã –∏ –æ—à–∏–±–∫–∏ –æ–∂–∏–¥–∞—Ç—å;
* —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –∏—Å—Ç–∏–Ω–æ–π –ø–æ–≤–µ–¥–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã.

**Backend ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã.**

---

## 27. Base URL

### Local

`http://127.0.0.1:8001`

---

## 28. DEV-–∞–∫–∫–∞—É–Ω—Ç—ã (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

### Cleaner

email: `cleaner@test.com`  
password: `Test1234!`  
role: `cleaner`

### Manager

email: `manager@test.com`  
password: `Test1234!`  
role: `manager`

---

## 29. Auth

### Login (Cleaner / Manager)

`POST /api/auth/login/`

**Payload**

```json
{
  "email": "cleaner@test.com",
  "password": "Test1234!"
}
````

**Response**

```json
{
  "token": "abc123...",
  "user_id": 3,
  "email": "cleaner@test.com",
  "full_name": "Alex Cleaner",
  "role": "cleaner"
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞**

–í–æ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö:

```http
Authorization: Token <token>
```

---

## 29.1 Sales-Assisted Onboarding (Management Commands)

### Create Company with Owner

Used for manual client onboarding without public registration.

```bash
# Basic usage (auto-generated password)
python manage.py create_company_with_owner \
    --company-name "Acme Cleaning LLC" \
    --owner-email "admin@acme.com"

# With specific password
python manage.py create_company_with_owner \
    --company-name "Acme Cleaning LLC" \
    --owner-email "admin@acme.com" \
    --owner-name "John Smith" \
    --temp-password "SecurePass123!"

# With phone number and trial plan
python manage.py create_company_with_owner \
    --company-name "Acme Cleaning LLC" \
    --owner-email "admin@acme.com" \
    --owner-phone "+971501234567" \
    --plan trial
```

**Arguments:**
| Argument | Required | Description |
|----------|----------|-------------|
| `--company-name` | Yes | Company name |
| `--owner-email` | Yes | Owner email (login) |
| `--owner-name` | No | Full name (extracted from email if not provided) |
| `--owner-phone` | No | Phone number |
| `--temp-password` | No | Temporary password (auto-generated if not provided) |
| `--plan` | No | `active` (default) or `trial` (7-day) |

**Output:**
- Company ID
- Owner ID and email
- Temporary password (shown once, not logged)
- Login instructions

**Security:**
- Password is printed ONCE and not logged to files
- Send credentials via secure channel (WhatsApp, Signal)
- Recommend owner change password after first login

### Ensure Company Owner

Fixes existing companies without an Owner by promoting the earliest Manager.

```bash
# Dry run (shows what would be changed)
python manage.py ensure_company_owner

# Apply changes
python manage.py ensure_company_owner --apply
```

---

## 30. Jobs ‚Äî Cleaner Flow

### Today Jobs (Cleaner)

`GET /api/jobs/today/`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

* —Ç–æ–ª—å–∫–æ jobs —Ç–µ–∫—É—â–µ–≥–æ cleaner;
* —Ç–æ–ª—å–∫–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è.

---

## 31. –ö–æ–Ω—Ç—Ä–∞–∫—Ç `/api/jobs/today/` (CRITICAL)

‚ö†Ô∏è –ö–æ–Ω—Ç—Ä–∞–∫—Ç **–ü–õ–û–°–ö–ò–ô**.

–û—Ç–≤–µ—Ç **–ù–ï** —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.

–ü—Ä–∏–º–µ—Ä:

```json
[
  {
    "id": 5,
    "location__name": "Dubai Marina Tower",
    "scheduled_date": "2026-01-17",
    "scheduled_start_time": null,
    "scheduled_end_time": null,
    "status": "scheduled"
  }
]
```

Frontend / Mobile:

* –Ω–µ –æ–∂–∏–¥–∞—Ç—å `location` object;
* –Ω–µ –æ–∂–∏–¥–∞—Ç—å `cleaner` object;
* –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—è —Ä–æ–≤–Ω–æ –∫–∞–∫ –µ—Å—Ç—å.

–ö–æ–Ω—Ç—Ä–∞–∫—Ç –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω –∏ –Ω–µ –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å—Å—è.

–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ: –Ω–µ–∑–Ω–∞–Ω–∏–µ —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –ª–æ–º–∞–µ—Ç UI.

---

## 32. Job Detail (Cleaner)

`GET /api/jobs/<id>/`

–°–æ–¥–µ—Ä–∂–∏—Ç:

* location;
* cleaner;
* scheduled / actual time;
* `checklist_items`;
* `photos`;
* `check_events`;
* SLA-–ø–æ–ª—è, –µ—Å–ª–∏ job –∑–∞–≤–µ—Ä—à—ë–Ω.

---

## 33. Job Detail ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏–∏ –∏ NULL-–ø–æ–ª—è

–ú–æ–≥—É—Ç –±—ã—Ç—å `null`:

* `actual_start_time`,
* `actual_end_time`,
* `photos` (–º–æ–≥—É—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º–∏),
* `check_events` (–µ—Å–ª–∏ –¥–µ–π—Å—Ç–≤–∏–π –µ—â—ë –Ω–µ –±—ã–ª–æ).

Frontend –æ–±—è–∑–∞–Ω:

* –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –ø—É—Å—Ç—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è;
* –Ω–µ —Å—á–∏—Ç–∞—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ—à–∏–±–∫–æ–π.

---

## 34. Job Statuses

–í–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã:

* `scheduled`
* `in_progress`
* `completed`

–ñ—ë—Å—Ç–∫–∏–µ –ø–µ—Ä–µ—Ö–æ–¥—ã:

```text
scheduled ‚Üí in_progress ‚Üí completed
```

–î—Ä—É–≥–∏—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

---

## 35. Check-in / Check-out (CRITICAL)

### Check-in

`POST /api/jobs/<id>/check-in/`

**Payload**

```json
{
  "latitude": 25.0763,
  "longitude": 55.1345
}
```

–£—Å–ª–æ–≤–∏—è:

* —Ç–æ–ª—å–∫–æ —Ä–æ–ª—å `cleaner`;
* job –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —ç—Ç–æ–º—É cleaner;
* `job.status == "scheduled"`;
* —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ location ‚â§ 100 –º.

–†–µ–∑—É–ª—å—Ç–∞—Ç:

* `job.status ‚Üí in_progress`;
* —Å–æ–∑–¥–∞—ë—Ç—Å—è `JobCheckEvent (check_in)`.

---

### Check-out

`POST /api/jobs/<id>/check-out/`

**Payload** –∞–Ω–∞–ª–æ–≥–∏—á–µ–Ω check-in.

–£—Å–ª–æ–≤–∏—è:

* `job.status == "in_progress"`;
* –≤—Å–µ required checklist items == `completed`;
* proof —É—Å–ª–æ–≤–∏—è –ø–æ —Ñ–æ—Ç–æ —Å–æ–±–ª—é–¥–µ–Ω—ã (before / after).

–†–µ–∑—É–ª—å—Ç–∞—Ç:

* `job.status ‚Üí completed`;
* —Å–æ–∑–¥–∞—ë—Ç—Å—è `JobCheckEvent (check_out)`.

---

## 36. Edge case: GPS –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

–ï—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–µ –ø–æ–ª—É—á–µ–Ω—ã:

* API –≤–µ—Ä–Ω—ë—Ç `400 Bad Request`.

Frontend / Mobile:

* –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é;
* –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É;
* –Ω–µ –¥–µ–ª–∞–µ—Ç –∞–≤—Ç–æ–ø–æ–≤—Ç–æ—Ä–æ–≤ –±–µ–∑ –≤–µ–¥–æ–º–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

---

## 37. Checklist

Checklist ‚Äî snapshot, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫ job.

`JobChecklistItem`:

* `text`
* `is_completed`
* `is_required`

–ü—Ä–∞–≤–∏–ª–∞:

* checklist —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ job –∏–∑ —à–∞–±–ª–æ–Ω–∞;
* —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å checklist items –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ cleaner (toggle / bulk);
* manager —á–∏—Ç–∞–µ—Ç, –Ω–æ –Ω–µ –ø—Ä–∞–≤–∏—Ç —á–µ–∫–ª–∏—Å—Ç job;
* required-–ø—É–Ω–∫—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ check-out –∏ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ SLA.

---

## 38. Checklist system ‚Äî DONE (MVP scope)

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —á–µ–∫-–ª–∏—Å—Ç–æ–≤ –¥–ª—è jobs:

* —à–∞–±–ª–æ–Ω—ã —á–µ–∫-–ª–∏—Å—Ç–æ–≤ —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–º–ø–∞–Ω–∏–∏;
* –∫–∞–∂–¥—ã–π —à–∞–±–ª–æ–Ω —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–∞–±–æ—Ä–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö/–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤;
* —à–∞–±–ª–æ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –º–µ–Ω–µ–¥–∂–µ—Ä—É –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ job;
* –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –Ω–∞–±–æ—Ä —á–µ–∫-–ª–∏—Å—Ç–æ–≤ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π –±–µ–∑ —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

–≠—Ç–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –∫–ª—é—á–µ–≤–æ–π MVP-—Å—Ü–µ–Ω–∞—Ä–∏–π:
–º–µ–Ω–µ–¥–∂–µ—Ä –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å jobs —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º —á–µ–∫-–ª–∏—Å—Ç–æ–º —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –±–µ–∑ –∞–¥–º–∏–Ω—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –∏ —Ä—É—á–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

---

## 39. Photos ‚Äî Mobile + Backend DONE

Mobile + backend-–ø–æ—Ç–æ–∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–π:

‚Äì Check-in –ø–µ—Ä–µ–≤–æ–¥–∏—Ç job –≤ in_progress, —Å–æ–∑–¥–∞—ë—Ç—Å—è JobCheckEvent.
‚Äì –ù–∞ —ç–∫—Ä–∞–Ω–µ Job Details –ø–æ—è–≤–ª—è—é—Ç—Å—è —Å–ª–æ—Ç—ã Before / After.
‚Äì –§–æ—Ç–æ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ expo-image-picker –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ FormData:
‚Äì –ø–æ–ª–µ `photo_type = before` –∏–ª–∏ `after`,
‚Äì –ø–æ–ª–µ `file` = –±–∏–Ω–∞—Ä–Ω–∏–∫ —Ñ–∞–π–ª–∞.
‚Äì –¢–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —É—Å–ø–µ—à–Ω–æ —É—Ö–æ–¥–∏—Ç –∏ –¥–ª—è JSON, –∏ –¥–ª—è multipart-–∑–∞–ø—Ä–æ—Å–æ–≤
(`Authorization: Token <token>`).

–ü—Ä–∞–≤–∏–ª–∞ –Ω–∞ backend (—Ñ–∞–∫—Ç):

‚Äì –§–æ—Ç–æ –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π cleaner.
‚Äì –ó–∞–≥—Ä—É–∂–∞—Ç—å –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ `status = in_progress`.
‚Äì –†–æ–≤–Ω–æ –æ–¥–Ω–æ —Ñ–æ—Ç–æ –Ω–∞ —Ç–∏–ø: before –∏ after.
‚Äì `after` –Ω–µ–ª—å–∑—è –∑–∞–≥—Ä—É–∑–∏—Ç—å, –µ—Å–ª–∏ –µ—â—ë –Ω–µ—Ç `before`.
‚Äì –ï—Å–ª–∏ –≤ EXIF –µ—Å—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ location –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è (‚â§ 100 –º).
‚Äì EXIF –º–æ–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å ‚Äî —Ç–æ–≥–¥–∞ –∑–∞–≥—Ä—É–∑–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∞,
–∞ –≤ –æ—Ç–≤–µ—Ç–µ —Ñ–ª–∞–≥ `exif_missing = true`.

---

## 40. –§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ñ–∞–π–ª–æ–≤

```
/media/company/<company_id>/jobs/<job_id>/photos/<type>/<uuid>.<ext>
```

---

## 41. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Mobile

–≠–∫—Ä–∞–Ω Job Details –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:

‚Äì —Å—Ç–∞—Ç—É—Å (scheduled / in_progress / completed),
‚Äì –ø—Ä–æ–≥—Ä–µ—Å—Å (check-in, before, checklist, after, check-out),
‚Äì timeline –∏–∑ JobCheckEvent,
‚Äì —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ—Ç–æ (uploaded / no photo yet),
‚Äì —á–µ–∫-–ª–∏—Å—Ç —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Ç–º–µ—á–∞—Ç—å –ø—É–Ω–∫—Ç—ã,
‚Äì SLA-–±–ª–æ–∫ (status + reasons),
‚Äì –∫–Ω–æ–ø–∫—É –¥–ª—è Job PDF.

Check-out —Å –º–æ–±–∏–ª—å–Ω–æ–≥–æ:

* –≤–æ–∑–º–æ–∂–µ–Ω —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–æ–±–ª—é–¥–µ–Ω–∏–∏ –ø–æ—Ä—è–¥–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π,
* —Ç—Ä–µ–±—É–µ—Ç both photos –∏ –ø–æ–ª–Ω–æ–≥–æ —á–µ–∫–ª–∏—Å—Ç–∞.

---

## 42. –§–æ—Ç–æ: –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞

–§–æ—Ç–æ –Ω–∞ backend –ø—Ä–∏–≤–æ–¥—è—Ç—Å—è –∫ –µ–¥–∏–Ω–æ–º—É JPEG-—Ñ–æ—Ä–º–∞—Ç—É (normalize), –ø–æ—ç—Ç–æ–º—É:

* web –∏ PDF –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ;
* –∏—Å—á–µ–∑–ª–∞ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å ‚Äú–Ω–∞ –æ–¥–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –æ–∫, –Ω–∞ –¥—Ä—É–≥–æ–º –Ω–µ—Ç‚Äù;
* –∑–∞–∫—Ä—ã—Ç –ø—Ä–æ—à–ª—ã–π –±–æ–ª–µ–∑–Ω–µ–Ω–Ω—ã–π –∫–æ—Å—Ç—ã–ª—å.

---

## 43. PDF –æ—Ç—á—ë—Ç

`POST /api/jobs/<id>/report/pdf/`

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ ReportLab.

PDF —Å–æ–¥–µ—Ä–∂–∏—Ç:

* job;
* location;
* cleaner;
* scheduled / actual timestamps;
* checklist;
* audit events;
* SLA-–±–ª–æ–∫;
* —Ñ–æ—Ç–æ.

PDF –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏ –≤ UI (download), –∏ –≤ email-–æ—Ç–ø—Ä–∞–≤–∫–µ.

---

## 44. Manager: Planning + Create Job

### Manager Job Planning ‚Äî backend + frontend DONE

Backend:

**GET /api/manager/jobs/planning/?date=YYYY-MM-DD**

* –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `YYYY-MM-DD` –∏ `DD.MM.YYYY`;
* –æ—Ç–¥–∞—ë—Ç jobs –∑–∞ –¥–∞—Ç—É —Å:

  * location `{id, name, address}`,
  * cleaner `{id, full_name, phone?}`,
  * status,
  * proof (—Ñ–ª–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è).

**GET /api/manager/meta/**

–û–¥–∏–Ω —Å–ø—Ä–∞–≤–æ—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è —Ñ–æ—Ä–º—ã Create Job:

* cleaners;
* locations;
* checklist_templates.

**POST /api/manager/jobs/**

* —Å–æ–∑–¥–∞—ë—Ç Job;
* —Å–æ–∑–¥–∞—ë—Ç snapshot JobChecklistItem –∏–∑ ChecklistTemplateItem;
* –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç payload, –ø—Ä–∏–≥–æ–¥–Ω—ã–π –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã Planning.

---

## 45. Proof-–∫–æ–Ω—Ç—Ä–∞–∫—Ç (–≤–∞–∂–Ω–æ, –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ)

Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç proof –∫–∞–∫:

* —Å—Ç–∞—Ä—ã–µ –∫–ª—é—á–∏:
  `before_uploaded`, `after_uploaded`, `checklist_completed`
* —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª—é—á–∏ –ø–æ–¥ UI:
  `before_photo`, `after_photo`, `checklist`

–≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ, —á—Ç–æ–±—ã —Ñ—Ä–æ–Ω—Ç –Ω–µ –ª–æ–º–∞–ª—Å—è –∏ –Ω–µ –∑–∞–≤–∏—Å–µ–ª –æ—Ç –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–π.

---

## 46. Frontend (dubai-control) ‚Äî —Ñ–∞–∫—Ç

–≠–∫—Ä–∞–Ω `/planning`:

* –∑–∞–≥—Ä—É–∂–∞–µ—Ç jobs –ø–æ –¥–∞—Ç–µ;
* —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º (–ª–æ–∫–∞–ª—å–Ω–æ);
* proof –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ;
* JobSidePanel –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ job;
* Create Job Drawer:

  * —Ç—è–Ω–µ—Ç meta,
  * —Å–æ–∑–¥–∞—ë—Ç job,
  * job –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏.

---

## 47. Mobile Cleaner App ‚Äî —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:

* Expo
* React Native
* TypeScript
* React Navigation (Native Stack)

–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (–§–ê–ö–¢):

* Login
* Today Jobs
* Job Details
* Check-in / Check-out
* Checklist toggle / completion
* –†–µ–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å backend
* Token —Ö—Ä–∞–Ω–∏—Ç—Å—è in-memory

---

## 48. Manager Portal ‚Äî –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ

* React + Vite
* TypeScript
* Tailwind
* shadcn/ui
* API-first

–°—Ç–∞—Ç—É—Å:

Manager Portal MVP –≤–∏–∑—É–∞–ª—å–Ω–æ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ –∑–∞–≤–µ—Ä—à—ë–Ω.

---

## 49. Job Planning ‚Äî —Ç–µ–∫—É—â–∏–π —Ñ–∞–∫—Ç (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)

–°—Ç–∞—Ç—É—Å: —Ä–∞–±–æ—Ç–∞–µ—Ç end-to-end (read-only –∏–¥–µ–∞–ª + Create Job).

–ß—Ç–æ –µ—Å—Ç—å:

* –º–∞—Ä—à—Ä—É—Ç `/planning` + –ø—É–Ω–∫—Ç –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏;
* —Ç–∞–±–ª–∏—Ü–∞ jobs –∑–∞ –¥–∞—Ç—É (backend ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã);
* proof-—Ñ–ª–∞–≥–∏ (Before / After / Checklist) —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å API;
* —Å–∞–π–¥–ø–∞–Ω–µ–ª—å (`JobSidePanel`) –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ job;
* Create Job Drawer –ø–æ–¥–∫–ª—é—á—ë–Ω –∫ backend:

  * `GET /api/manager/meta/`
  * `POST /api/manager/jobs/`

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:

Job Planning —Å–µ–π—á–∞—Å –Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ job‚Äô—ã, —Ç–æ–ª—å–∫–æ:

* –ø—Ä–æ—Å–º–æ—Ç—Ä;
* —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö;
* –ø–µ—Ä–µ—Ö–æ–¥ –≤ Job Details.

---

## 50. –ü—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø–æ Job Planning (–ó–ê–§–ò–ö–°–ò–†–û–í–ê–ù–û)

Job Planning ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞.

Cleaner –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç ‚Äú—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ‚Äù, –∞:

* –≤–∏–¥–∏—Ç job —á–µ—Ä–µ–∑ `GET /api/jobs/today/`;
* backend –æ—Å—Ç–∞—ë—Ç—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –∏—Å—Ç–∏–Ω—ã.

–ù–∏–∫–∞–∫–æ–π push-–ª–æ–≥–∏–∫–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–∞—Å—Å—ã–ª–æ–∫ –≤ MVP.

---

## 51. –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã —Å Lovable (–ó–ê–§–ò–ö–°–ò–†–û–í–ê–ù–û)

Lovable –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫:

* –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —ç—Ç–∞–ª–æ–Ω–Ω–æ–≥–æ UI;
* –∏—Å—Ç–æ—á–Ω–∏–∫ UX-—Ä–µ—Ñ–µ—Ä–µ–Ω—Å–æ–≤.

–ü—Ä–∞–≤–∏–ª–∞:

Lovable **–Ω–µ** –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã.
API –∏ –ª–æ–≥–∏–∫–∞ ‚Äî —Ç–æ–ª—å–∫–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:

* –Ω–æ–≤—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤;
* –∫—Ä—É–ø–Ω—ã—Ö UI-–∏—Ç–µ—Ä–∞—Ü–∏–π.

---

## 52. –ß—Ç–æ –ù–ï–õ–¨–ó–Ø –¥–µ–ª–∞—Ç—å ‚ùå

–ó–∞–ø—Ä–µ—â–µ–Ω–æ:

* –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å auth;
* –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å jobs;
* –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å check-in / check-out;
* –º–µ–Ω—è—Ç—å –º–æ–¥–µ–ª–∏;
* —Ç—Ä–æ–≥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏;
* –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å Celery / async / –æ—á–µ—Ä–µ–¥–∏;
* ¬´—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å —Ä–∞–¥–∏ –∫—Ä–∞—Å–æ—Ç—ã¬ª;
* –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞—Ç—å proof-–ø–æ–ª—è –≤ API –±–µ–∑ —Å–ª–æ—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

Proof-–ø–æ–ª—è —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ—Ä–æ–Ω—Ç.
–ï—Å–ª–∏ –º–µ–Ω—è–µ–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç ‚Äî —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π –∏–ª–∏ –º–∞–ø–ø–∏–Ω–≥–æ–º.

---

## 53. –ß—Ç–æ –¥–µ–ª–∞—Ç—å –≤ –ù–û–í–û–ú –ß–ê–¢–ï (TODO)

üéØ –§–æ–∫—É—Å: –¥–æ–≤–µ—Å—Ç–∏ Manager Planning / Reports / Analytics –¥–æ ‚Äú–æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è‚Äù, –±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è scope.

–ü—Ä–∏–Ω—Ü–∏–ø:

* –ª—é–±—ã–µ –Ω–æ–≤—ã–µ —á–∞—Ç—ã –ø–æ –ø—Ä–æ–¥—É–∫—Ç—É —Å—Ç–∞—Ä—Ç—É—é—Ç —Å –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ MASTER BRIEF;
* DEV_BRIEF –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–∫—Å—Ç–æ–≤ ‚Äú—Å–∫–æ–ø–∏—Ä—É–π –≤–æ—Ç —ç—Ç–æ –≤ –Ω–æ–≤—ã–π —á–∞—Ç‚Äù, –∞ —Ç–æ–ª—å–∫–æ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –∏ —Ñ–∞–∫—Ç—ã.

---

## 54. –ß—Ç–æ –ù–ï –∫–æ–º–º–∏—Ç–∏–ª–∏ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ

Backend-–º–∏–≥—Ä–∞—Ü–∏–∏ –∏ admin-—É—Ç–∏–ª–∏—Ç—ã –∏–∑–º–µ–Ω—è–ª–∏—Å—å –≤ —Ö–æ–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –Ω–æ –Ω–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤ git.

–ò—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∏ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º —à–∞–≥–æ–º –ø–æ—Å–ª–µ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ API –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## 55. –ó–∞–∫—Ä—ã—Ç—ã–µ –∫–æ—Å—Ç—ã–ª–∏ (–±–æ–ª—å, –∫–æ—Ç–æ—Ä—É—é –±–æ–ª—å—à–µ –Ω–µ —Ç—Ä–æ–≥–∞–µ–º)

* –ø–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç—ã –¥–ª—è planning (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ `DD.MM.YYYY`);
* proof-—Ñ–ª–∞–≥–∏ backend ‚Üî frontend —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã;
* Create Job ‚Äî –Ω–µ –∑–∞–≥–ª—É—à–∫–∞;
* —Ñ–æ—Ç–æ —Å —Ä–∞–∑–Ω—ã—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ JPEG.

---

## 56. –° –ß–ï–ì–û –ù–ê–ß–ê–¢–¨ –ù–û–í–´–ô –ß–ê–¢ (meta)

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –±–æ–ª—å—à–µ **–Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç** –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è.
–ü—Ä–∞–≤–∏–ª–æ:

* –¥–ª—è –ª—é–±–æ–≥–æ –Ω–æ–≤–æ–≥–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ —á–∞—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–π `MASTER_BRIEF.md` –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è;
* –Ω–µ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ DEV_BRIEF;
* DEV_BRIEF = –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –∏ —Ñ–∞–∫—Ç—ã, MASTER_BRIEF = —Å—Ü–µ–Ω–∞—Ä–∏–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ—Å—Å–∏–∏.

---

## 57. Mobile / Cleaner App ‚Äî —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–ß—Ç–æ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏):

* –≠–∫—Ä–∞–Ω Job Details –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω:

  * —Å—Ç–∞—Ç—É—Å—ã (`scheduled ‚Üí in_progress ‚Üí completed`);
  * —á–µ–∫-–∏–Ω / —á–µ–∫-–∞—É—Ç;
  * before / after —Ñ–æ—Ç–æ;
  * —á–µ–∫–ª–∏—Å—Ç —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø—É–Ω–∫—Ç–∞–º–∏;
  * —Ç–∞–π–º–ª–∞–π–Ω —Å–æ–±—ã—Ç–∏–π;
  * PDF-–æ—Ç—á—ë—Ç —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ñ–æ—Ç–æ.

* –ù–∞–≤–∏–≥–∞—Ü–∏—è Navigate –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ª–æ–∫–∞—Ü–∏–∏.

* –õ–æ–≥–∏–∫–∞ –≤–∞–∂–Ω–µ–µ –¥–∏–∑–∞–π–Ω–∞ ‚Äî –≤–∏–∑—É–∞–ª –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ —É–ø—Ä–æ—â—ë–Ω.

---

## 58. –¢–µ–∫—É—â–∏–π —Ñ–æ–∫—É—Å —Ä–∞–±–æ—Ç—ã (Mobile ‚Äî Layer 1)

### –¶–µ–ª—å

–ó–∞–∫—Ä—ã—Ç—å –°–ª–æ–π 1 ‚Äî –º–æ–±–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ (logic-complete),
–±–µ–∑ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ UI-–¥–∏–∑–∞–π–Ω–∞.

### –í —Ä–∞–±–æ—Ç–µ —Å–µ–π—á–∞—Å

**–ù–∞–≤–∏–≥–∞—Ü–∏—è**

* –ü–æ–¥–∫–ª—é—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ª–æ–∫–∞—Ü–∏–∏ –∏–∑ backend:

  * `location_latitude`
  * `location_longitude`
* –ü–æ–≤–µ–¥–µ–Ω–∏–µ:

  * –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –µ—Å—Ç—å ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Apple / Google Maps;
  * –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –Ω–µ—Ç ‚Üí Navigate disabled.

**–ö–∞–º–µ—Ä–∞ / –≥–∞–ª–µ—Ä–µ—è**

* –æ–±–Ω–æ–≤–∏—Ç—å ImagePicker:

  * —É–±—Ä–∞—Ç—å deprecated `MediaTypeOptions`;
  * –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ImagePicker.MediaType.IMAGE`;
* –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏;
* –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫.

**–ü—Ä–µ–≤—å—é —Ñ–æ—Ç–æ**

* –º–∏–Ω–∏-–ø—Ä–µ–≤—å—é before / after;
* `No photo yet`, –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.

**Guard rails UI**

* Check-in ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è `scheduled`;
* Check-out ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è `in_progress`;
* `completed` ‚Äî read-only.

---

## 59. QA + —Ñ–∏–∫—Å–∞—Ü–∏—è

–ü—Ä–æ–≥–æ–Ω —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:

1. –ø–æ–ª–Ω—ã–π happy-path job;
2. –ø–æ–ø—ã—Ç–∫–∏ –Ω–∞—Ä—É—à–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π;
3. job –±–µ–∑ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ:

* –æ–±–Ω–æ–≤–∏—Ç—å `PROJECT_STATE.md`;
* –ø–æ–º–µ—Ç–∏—Ç—å Mobile Layer 1 –∫–∞–∫ ‚úÖ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π.

---

## 60. –í–∞–∂–Ω–∞—è –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç—å

–î–∏–∑–∞–π–Ω –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—É–¥–µ—Ç –¥–µ–ª–∞—Ç—å—Å—è –ü–û–°–õ–ï:

* –∑–∞–∫—Ä—ã—Ç–∏—è Layer 1 (–ª–æ–≥–∏–∫–∞);
* —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ API;
* —Ñ–∏–∫—Å–∞—Ü–∏–∏ UX-–ø–æ–≤–µ–¥–µ–Ω–∏—è.

–¢–µ–∫—É—â–∏–µ —É–ø—Ä–æ—â–µ–Ω–∏—è UI ‚Äî –æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–µ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ.

---

## 61. Locations ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

Locations —Å—á–∏—Ç–∞—é—Ç—Å—è –∑–∞–∫—Ä—ã—Ç–æ–π backend-—Å—É—â–Ω–æ—Å—Ç—å—é:

* backend ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã;
* frontend –Ω–µ —Ö—Ä–∞–Ω–∏—Ç mock-–ª–æ–∫–∞—Ü–∏–∏;
* –≤—Å–µ job-—Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `location_id`.

–ö–∞—Ä—Ç–∞:

* —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç;
* –¥–ª—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏, GPS-–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ PDF.

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:

* monetization readiness;
* trial ‚Üí paid –∫–æ–Ω–≤–µ—Ä—Å–∏–∏;
* –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å proof-of-work.

---

## 62. Manager Meta (Create Job prerequisites)

–≠–Ω–¥–ø–æ–∏–Ω—Ç `GET /api/manager/meta/` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

* cleaners;
* locations;
* checklist_templates (—Ç–æ–ª—å–∫–æ —Å items).

–ï—Å–ª–∏ –≤–∞–ª–∏–¥–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –Ω–µ—Ç:

* –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –Ω–∞–±–æ—Ä —á–µ–∫–ª–∏—Å—Ç–æ–≤;
* –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –æ—Ç–≤–µ—Ç–µ.

–§—Ä–æ–Ω—Ç–µ–Ω–¥ –≤—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π —Å–ø–∏—Å–æ–∫ —á–µ–∫–ª–∏—Å—Ç–æ–≤
–±–µ–∑ fallback-–ª–æ–≥–∏–∫–∏.

---

## 63. Checklist templates ‚Äî —Ä–æ–ª—å –≤ —Å–∏—Å—Ç–µ–º–µ

Checklist templates –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:

* –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ job;
* –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ job –∫–ª–∏–Ω–µ—Ä–æ–º;
* –ø—Ä–∏ —Ä–∞—Å—á—ë—Ç–µ SLA (`checklist_not_completed`).

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–ª—è –Ω–æ–≤—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π
–∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

---

## 64. Pricing & Upgrade Flow (Pre-billing)

Pricing –∏ Upgrade-—Ñ–ª–æ—É:

* –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å `usage-summary`;
* —Ä–∞–∑–ª–∏—á–∞—é—Ç –∞–Ω–æ–Ω–∏–º–æ–≤, trial –∏ expired trial;
* –ø–æ—Å–ª–µ trial Standard-–ø–ª–∞–Ω ‚Äî —Ç–æ—á–∫–∞ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞.

–§–ª–æ—É –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏ –≥–æ—Ç–æ–≤ –∫ Stripe / Paddle
–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è backend-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤.

---

## 65. –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–¥—É–∫—Ç–∞

CleanProof ‚Äî —É—Å—Ç–æ–π—á–∏–≤—ã–π –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç –±–µ–∑ –±–∏–ª–ª–∏–Ω–≥–∞:

* backend-—è–¥—Ä–æ job execution –∑–∞–∫—Ä—ã—Ç–æ;
* Manager Portal –ø–æ–∫—Ä—ã–≤–∞–µ—Ç Planning / Job Details / History;
* self-serve signup + —á–µ—Å—Ç–Ω—ã–π trial;
* –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ –±–∏–ª–ª–∏–Ω–≥—É.

---

## 66. SLA / Quality Control (micro-SLA v1)

SLA ‚Äî –≤—ã—á–∏—Å–ª—è–µ–º—ã–π backend-—Å–ª–æ–π:

* `sla_status` (`ok` / `violated`);
* `sla_reasons`.

–í—Å—Ç—Ä–æ–µ–Ω –≤ Planning, History –∏ Job Details.

–ü–µ—Ä–µ–≤–æ–¥–∏—Ç –ø—Ä–æ–¥—É–∫—Ç –∏–∑ ‚Äú—Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤‚Äù
–≤ —Å–∏—Å—Ç–µ–º—É –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞.

---

## 67. Performance Layer ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞

–í CleanProof —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω Performance Layer –∫–∞–∫ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å –ø–æ—Å–ª–µ SLA.

–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è —Å–ª–æ—è ‚Äî –Ω–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ä–∞–¥–∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤, –∞ –æ—Ç–≤–µ—Ç—ã –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã:

* –≥–¥–µ –≤–æ–∑–Ω–∏–∫–∞—é—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã;
* –∫—Ç–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ –Ω–∞—Ä—É—à–∞–µ—Ç SLA;
* —è–≤–ª—è—é—Ç—Å—è –ª–∏ –Ω–∞—Ä—É—à–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω—ã–º–∏ –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–º–∏—Å—è.

Performance Layer:

* –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç SLA-–Ω–∞—Ä—É—à–µ–Ω–∏—è –ø–æ –∫–ª–∏–Ω–µ—Ä–∞–º –∏ –ª–æ–∫–∞—Ü–∏—è–º;
* –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (`violation rate`), –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ —á–∏—Å–ª–∞;
* –≤—ã—è–≤–ª—è–µ—Ç –ø–æ–≤—Ç–æ—Ä—è–µ–º–æ—Å—Ç—å –Ω–∞—Ä—É—à–µ–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ reason-codes;
* –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö job-–¥–∞–Ω–Ω—ã—Ö –∏ SLA-–≤—ã—á–∏—Å–ª–µ–Ω–∏—è—Ö.

–°–ª–æ–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –±–µ–∑ —É—Å–ª–æ–∂–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –ª–æ–≥–∏—á–µ—Å–∫–∏ –∑–∞–º—ã–∫–∞–µ—Ç —Ü–µ–ø–æ—á–∫—É:

Job execution ‚Üí SLA ‚Üí Performance ‚Üí History ‚Üí Evidence

–≠—Ç–æ —É—Å–∏–ª–∏–≤–∞–µ—Ç —Ü–µ–Ω–Ω–æ—Å—Ç—å CleanProof –∫–∞–∫ —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞,
–∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –æ—Ç—á—ë—Ç–æ–≤.

---

## 68. Checklist templates –≤ Job Planning

–í –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –∑–∞–¥–∞—á –º–µ–Ω–µ–¥–∂–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ —Å ‚Äú—Å—ã—Ä—ã–º‚Äù —á–µ–∫–ª–∏—Å—Ç–æ–º,
–∞ —Å –∑–∞—Ä–∞–Ω–µ–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–º–∏ —à–∞–±–ª–æ–Ω–∞–º–∏:

* Apartment ‚Äì Standard (6 items)
* Apartment ‚Äì Deep (12 items)
* Office ‚Äì Standard (8 items)
* Villa ‚Äì Full (12 items)

–≠—Ç–∏ —à–∞–±–ª–æ–Ω—ã –∂–∏–≤—É—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–º–ø–∞–Ω–∏–∏ –∏ –ø–æ–¥–Ω–∏–º–∞—é—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ ‚Äî
—á–µ—Ä–µ–∑ `GET /api/manager/meta/`.

–û—Ç–≤–µ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç:

* —Å–ø–∏—Å–æ–∫ –∫–ª–∏–Ω–µ—Ä–æ–≤ (`cleaners`);
* —Å–ø–∏—Å–æ–∫ –ª–æ–∫–∞—Ü–∏–π (`locations`);
* —Å–ø–∏—Å–æ–∫ —á–µ–∫–ª–∏—Å—Ç-—à–∞–±–ª–æ–Ω–æ–≤ (`checklist_templates`) —Å:

  * –ø—Ä–µ–≤—å—é –ø–µ—Ä–≤—ã—Ö –ø—É–Ω–∫—Ç–æ–≤,
  * –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º items.

–í UI —Å–æ–∑–¥–∞–Ω–∏—è job:

* –º–µ–Ω–µ–¥–∂–µ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç —á–µ–∫–ª–∏—Å—Ç –∏–∑ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
  —Å –ø—Ä–µ–≤—å—é –ø–µ—Ä–≤—ã—Ö –∑–∞–¥–∞—á (`items_preview` + `+ N more`);
* –Ω–∏–∂–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –±–ª–æ–∫ **CHECKLIST DETAILS**
  —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º —à–∞–±–ª–æ–Ω–∞ –∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º—ã–º —Å–ø–∏—Å–∫–æ–º –ø—É–Ω–∫—Ç–æ–≤.

---

## 69. –°–≤—è–∑—å checklist templates –∏ SLA

–≠—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–≤—è–∑—å SLA-–º–µ—Ç—Ä–∏–∫–∏ `checklist_not_completed` –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π:

* –≤—Å–µ–≥–¥–∞ –ø–æ–Ω—è—Ç–Ω–æ,
* –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ —á–µ–∫–ª–∏—Å—Ç –±—ã–ª –≤—ã–±—Ä–∞–Ω,
* —Å–∫–æ–ª—å–∫–æ –ø—É–Ω–∫—Ç–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–∫—Ä—ã—Ç–æ.

---

## 70. Checklist templates as part of SLA proof system

Checklist templates —è–≤–ª—è—é—Ç—Å—è –±–∞–∑–æ–≤—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º —Å–∏—Å—Ç–µ–º—ã –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç (proof of work).

–û–Ω–∏:

* –∑–∞–¥–∞—é—Ç –æ–∂–∏–¥–∞–µ–º—ã–π –æ–±—ä—ë–º –∏ —Å–æ—Å—Ç–∞–≤ —Ä–∞–±–æ—Ç;
* –Ω–∞–ø—Ä—è–º—É—é –≤–ª–∏—è—é—Ç –Ω–∞ SLA-–æ—Ü–µ–Ω–∫—É.

–°–≤—è–∑–∫–∞:

Create Job ‚Üí Select Checklist Template ‚Üí Job Checklist Items
‚Üí Checklist Completion ‚Üí SLA Status

–ú–µ–Ω–µ–¥–∂–µ—Ä –≤–∏–¥–∏—Ç —ç—Ç—É —Å–≤—è–∑—å:

* –≤ —Å–ø–∏—Å–∫–∞—Ö jobs (Planning / History);
* –≤ JobSidePanel;
* –≤ –æ—Ç—á—ë—Ç–∞—Ö –∏ violation views.

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –æ–±—ä—è—Å–Ω–∏–º–æ—Å—Ç—å SLA-–Ω–∞—Ä—É—à–µ–Ω–∏–π –±–µ–∑ —Ä—É—á–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫.

---

## 71. SLA Reports (Value Layer)

SLA Reports package operational evidence into a manager-ready format.

They:

* do not introduce new business logic;
* reframe execution, SLA and performance data into:

  * weekly summaries;
  * monthly summaries;
  * accountability by cleaner and location;
  * exportable PDF reports.

This layer closes the loop:

Execution ‚Üí SLA ‚Üí Performance ‚Üí Reports ‚Üí Evidence

Reports strengthen perceived product value
without increasing system complexity.

---

## 72. Job reporting & email delivery (v1)

Managers can generate, download, and email verified job reports.

* PDF reports are generated on the backend from real execution data.
* The same PDF source is used for UI download and email delivery.
* ‚ÄúEmail PDF‚Äù sends the report directly to the manager‚Äôs email by default.
* Optionally, –º–µ–Ω–µ–¥–∂–µ—Ä –º–æ–∂–µ—Ç —É–∫–∞–∑–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π email.

This enables a simple one-click operational workflow:

manager ‚Üí verified report ‚Üí inbox.

This functionality is fully implemented end-to-end
and represents a completed manager-facing feature.

---

## 73. Reports & Email (v1 completed)

CleanProof –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É PDF-–æ—Ç—á—ë—Ç–æ–≤ –ø–æ email –∫–∞–∫ —á–∞—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ workflow:

* Job PDF ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ –æ–¥–∏–Ω –∫–ª–∏–∫;
* Weekly –∏ Monthly performance reports ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑ Reports UI;
* –≤—Å–µ PDF —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è backend‚Äô–æ–º –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ –∏ UI.

Email-–æ—Ç–ø—Ä–∞–≤–∫–∞:

* –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏;
* –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–æ–π —Ä–∞—Å—Å—ã–ª–∫–æ–π.

---

## 74. Reports v2 ‚Äî Email Delivery & Audit (Completed)

Reports v2 —Ä–∞—Å—à–∏—Ä—è–µ—Ç —Å–ª–æ–π Reports —Ä–µ–∞–ª—å–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–æ–π –∏ –∞—É–¥–∏—Ç–æ–º.

–ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

* –º–µ–Ω–µ–¥–∂–µ—Ä –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å:

  * job PDF,
  * weekly reports,
  * monthly reports;
* –≤—ã–±–æ—Ä –ø–æ–ª—É—á–∞—Ç–µ–ª—è:

  * —Å–≤–æ–π email,
  * –∫–∞—Å—Ç–æ–º–Ω—ã–π email;
* backend –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç PDF –∏–∑ –æ–¥–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞;
* –∫–∞–∂–¥–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º;
* –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º SMTP backend‚Äô–æ–º.

–≠—Ç–æ –∑–∞–º—ã–∫–∞–µ—Ç —Ü–µ–ø–æ—á–∫—É:

Execution ‚Üí SLA ‚Üí Reports ‚Üí PDF ‚Üí Email ‚Üí Audit Trail

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:

* —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç SMTP.

---

## 75. Reports ‚Üí Evidence layer (Completed)

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π drill-down:

Report ‚Üí SLA reason ‚Üí affected jobs ‚Üí job details

–°–ª–æ–π:

* read-only;
* –Ω–µ –≤–º–µ—à–∏–≤–∞–µ—Ç—Å—è –≤ execution;
* —É—Å–∏–ª–∏–≤–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫—É—é –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å.

SLA-–ø—Ä–∏—á–∏–Ω—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å proof completeness, —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∫–∞–∫ –¥–æ–º–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å
–¥–ª—è future overrides, policy changes –∏ legacy-–¥–∞–Ω–Ω—ã—Ö.

---

## 76. Email delivery of proof

CleanProof –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç –ø–æ email.

* Job PDF –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω:

  * —Å–µ–±–µ,
  * –≤–Ω–µ—à–Ω–µ–º—É –ø–æ–ª—É—á–∞—Ç–µ–ª—é;
* email —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—ã–π proof + SLA-—Å—Ç–∞—Ç—É—Å;
* –∫–∞–∂–¥–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ.

Email PDF ‚Äî —á–∞—Å—Ç—å –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω–æ–π —Ü–µ–ø–æ—á–∫–∏,
–∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.

---

## 77. Job PDF –∫–∞–∫ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞

Job PDF –æ—Ç—Ä–∞–∂–∞–µ—Ç –ø–æ–ª–Ω—É—é –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è job:

* —Ñ–∞–∫—Ç—ã;
* —Ñ–æ—Ç–æ;
* —á–µ–∫–ª–∏—Å—Ç;
* –∞—É–¥–∏—Ç;
* SLA.

SLA:

* –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è backend‚Äô–æ–º;
* –Ω–µ —è–≤–ª—è–µ—Ç—Å—è UI-—Å–∏–º—É–ª—è—Ü–∏–µ–π.

–í –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º —Å—Ü–µ–Ω–∞—Ä–∏–∏:

* SLA OK –±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏–π.

SLA violated:

* –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –¥–ª—è audit- –∏ override-—Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.

Job PDF ‚Äî –≤–Ω–µ—à–Ω–∏–π, –Ω–µ–ø–æ–¥–¥–µ–ª—å–Ω—ã–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –¥–æ–≤–µ—Ä–∏—è
–¥–ª—è owner‚Äô–æ–≤ –∏ –∫–ª–∏–µ–Ω—Ç–æ–≤.

---

## 78. Job PDF & Email Proof (v1 –∑–∞–≤–µ—Ä—à—ë–Ω)

–ó–∞–∫—Ä—ã—Ç –±–ª–æ–∫ PDF Job Report + Email Proof:

* PDF –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ;
* email-–æ—Ç–ø—Ä–∞–≤–∫–∞ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è;
* –º–µ–Ω–µ–¥–∂–µ—Ä –º–æ–∂–µ—Ç –¥–æ–∫–∞–∑–∞—Ç—å —Ñ–∞–∫—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç—á—ë—Ç–∞;
* –∏—Å—Ç–æ—Ä–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ Job Details –∏ –≤ Email history.

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:

* email history ‚Äî —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø—Ä–æ–¥—É–∫—Ç–∞, –Ω–µ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥.

---

## 79. Reporting & Management UX ‚Äî Status

Reporting —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ first-class management feature.

–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

* owner overview —Å –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ KPI;
* weekly / monthly reports;
* —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ owner / manager –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏;
* collapsible sidebar;
* —è–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ trial / company-blocked —Å–æ—Å—Ç–æ—è–Ω–∏–π.

–í–∞–∂–Ω–æ:
Reports ‚Äî –æ–±—ä—è—Å–Ω—è—é—â–∏–π –∏ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω—ã–π —Å–ª–æ–π,
–∞ –Ω–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

---

## 80. Role-based responsibility model

Managers:

* –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –∏ —Ä–∞—Å—Å—ã–ª–∞—é—Ç –æ—Ç—á—ë—Ç—ã.

Owners:

* –ø–æ–ª—É—á–∞—é—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Å–∞–π—Ç—ã;
* –Ω–µ —É–ø—Ä–∞–≤–ª—è—é—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –æ—Ç—á—ë—Ç–æ–≤.

Owner overview –≤ UI:

* –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö PDF;
* –Ω–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç—á—ë—Ç–∞.

---

## 81. Email history ‚Äî manager-facing audit trail

Email history —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:

* –µ–¥–∏–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –æ—Ç—á—ë—Ç–æ–≤;
* —Ñ–∏–ª—å—Ç—Ä—ã:

  * –¥–∞—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏,
  * —Ç–∏–ø –æ—Ç—á—ë—Ç–∞,
  * job / –ø–µ—Ä–∏–æ–¥,
  * –ø–æ–ª—É—á–∞—Ç–µ–ª—å,
  * —Å—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∞–≤–∫–∏;
* —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ `created_at`, –∞ –Ω–µ –ø–æ –¥–∞—Ç–µ job;
* –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é (retry, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫).

---

## 82. Commercial enforcement & read-only mode

–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è enforced **—Ç–æ–ª—å–∫–æ backend‚Äô–æ–º**.

* `Company.is_active` —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø–æ–º;
* suspended company:

  * data –¥–æ—Å—Ç—É–ø–Ω–∞,
  * mutating actions –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã;
* API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

  * `company_blocked`,
  * `trial_expired`,
  * `trial_jobs_limit_reached` (–¥–ª—è trial-jobs –ª–∏–º–∏—Ç–∞).

Frontend:

* –Ω–µ –≤—ã–≤–æ–¥–∏—Ç —ç—Ç–æ –∫–∞–∫ ‚Äú—Å–∏—Å—Ç–µ–º–Ω—É—é –æ—à–∏–±–∫—É‚Äù;
* –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç read-only / upgrade UX;
* –¥–∞—ë—Ç –æ–±—ä—è—Å–Ω—è—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ CTA.

---

## 83. Cleaner access & security model

Cleaner access:

* manager-controlled;
* –±–µ–∑ self-signup;
* –±–µ–∑ recovery.

–ú–µ–Ω–µ–¥–∂–µ—Ä:

* —Å–æ–∑–¥–∞—ë—Ç –∫–ª–∏–Ω–µ—Ä–∞;
* –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç / –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç;
* —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç PIN.

–ú–æ–¥–µ–ª—å:

* –±—ã—Å—Ç—Ä–∞—è,
* –Ω–∞–¥—ë–∂–Ω–∞—è,
* –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è MVP –∏ —Ä—ã–Ω–∫–æ–≤ –±–µ–∑ email.

---

## 84. Force-complete / override (manager-only)

### –ó–∞—á–µ–º

–†–µ–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:

* –Ω–µ—Ç after-photo;
* —á–µ–∫–ª–∏—Å—Ç —Ñ–æ—Ä–º–∞–ª—å–Ω–æ –Ω–µ –∑–∞–∫—Ä—ã—Ç;
* –ø–æ—Ç–µ—Ä—è –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤.

–ë–µ–∑ override:

* –ª–∏–±–æ –ª–æ–º–∞–µ—Ç—Å—è SLA,
* –ª–∏–±–æ job –∑–∞–≤–∏—Å–∞–µ—Ç.

---

## 85. Force-complete ‚Äî —Ä–µ—à–µ–Ω–∏–µ

* –∫–Ω–æ–ø–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –º–µ–Ω–µ–¥–∂–µ—Ä—É;
* –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã:

  * `reason_code`,
  * `comment`;
* job ‚Üí `completed`;
* SLA ‚Üí `violated`;
* –ø—Ä–∏—á–∏–Ω–∞ —è–≤–Ω–æ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è.

---

## 86. –ß—Ç–æ –¥–∞—ë—Ç Force-complete

* SLA —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —á–µ—Å—Ç–Ω—ã–º;
* owner –≤–∏–¥–∏—Ç —Ä–µ–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É;
* audit trail –ø—Ä–æ–∑—Ä–∞—á–µ–Ω.

–§–æ—Ä–º—É–ª–∞:

> Managers can override the process, but overrides –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω—ã owner‚Äô—É.

---

## 87. SLA philosophy: proof-first

CleanProof:

* –Ω–µ –∏—â–µ—Ç –æ—à–∏–±–∫–∏,
* –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∏—Ö.

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ jobs:

* –±–µ–∑ SLA-–Ω–∞—Ä—É—à–µ–Ω–∏–π.

Violations:

* —Ç–æ–ª—å–∫–æ –∫–∞–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏—è.

‚ÄúNo violations‚Äù:

* –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π audit-—Ä–µ–∑—É–ª—å—Ç–∞—Ç,
* —á–∞—Å—Ç—å –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## 88. Force-complete ‚Äî controlled exception handling

Force-complete:

* –Ω–µ workaround,
* –Ω–µ —Å–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã,
* –≤—Å–µ–≥–¥–∞ –≤–∏–¥–∏–º –≤ –æ—Ç—á—ë—Ç–∞—Ö.

---

## 89. SLA –º–æ–¥–µ–ª—å –∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ

Job –∏–º–µ–µ—Ç –¥–≤–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è:

* `status` ‚Äî lifecycle;
* `sla_status` / `sla_reasons` ‚Äî –∫–∞—á–µ—Å—Ç–≤–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

Happy-path:

* SLA OK.

Exception-path:

* SLA violated + –ø—Ä–∏—á–∏–Ω—ã.

Force-complete:

* —Ç–æ–ª—å–∫–æ manager;
* –≤—Å–µ–≥–¥–∞ violation;
* –≤—Å–µ–≥–¥–∞ –∞—É–¥–∏—Ä—É–µ–º–æ.

### SLA Engine & Analytics

* –õ—é–±–∞—è –Ω–æ–≤–∞—è SLA-–ª–æ–≥–∏–∫–∞ –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑
  `compute_sla_status_and_reasons_for_job(job)`.
* Analytics-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–æ–ª—å–∫–æ —ç—Ç–æ—Ç helper –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:

  * `issues_detected` (summary),
  * `issues` (cleaners-performance),
  * –ø—Ä–∏—á–∏–Ω—ã –Ω–∞—Ä—É—à–µ–Ω–∏–π (sla-breakdown).

–ï—Å–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤—ã–π SLA-–∫–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `too_short_duration`),
–Ω—É–∂–Ω–æ:

1. –î–æ–±–∞–≤–∏—Ç—å –µ–≥–æ –≤ SLA Engine (helper).
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–Ω –ø–æ–ø–∞–¥–∞–µ—Ç –≤:

   * `analytics_sla_breakdown` (`reasons`),
   * –æ—Ç—á—ë—Ç—ã (top_reasons).
3. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ SLA-–∫–æ–¥–∞–º (—Å–ø–∏—Å–æ–∫ –ø—Ä–∏—á–∏–Ω).

---

## 90. Analytics Page ‚Äî –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏ –≥—Ä–∞–Ω–∏—Ü—ã

Analytics ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–∏–π —ç–∫—Ä–∞–Ω, –Ω–µ –∑–∞–º–µ–Ω–∞ Reports.

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ Analytics:

* –±—ã—Å—Ç—Ä–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π;
* —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–ª–∏–Ω–µ—Ä–æ–≤;
* –≤—ã—è–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–¥–æ–≤.

Analytics **–Ω–µ**:

* –Ω–µ –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤;
* –Ω–µ –æ—Ç—á—ë—Ç –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å—Ç–æ—Ä–æ–Ω;
* –Ω–µ –º–µ—Å—Ç–æ –¥–ª—è SLA-–∞—É–¥–∏—Ç–∞.

Reports –æ—Å—Ç–∞—é—Ç—Å—è:

* –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω—ã–º —Å–ª–æ–µ–º;
* —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º;
* –æ—Å–Ω–æ–≤–æ–π –¥–ª—è owner-–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏.

---

## 91. Analytics ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø

Analytics:

* read-only;
* –ø–æ–ª–Ω–æ—Å—Ç—å—é derived –∏–∑ backend-–∞–≥—Ä–µ–≥–∞—Ü–∏–π;
* –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.

Frontend:

* –Ω–µ —Å—á–∏—Ç–∞–µ—Ç –∞–≥—Ä–µ–≥–∞—Ç—ã;
* –Ω–µ –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ;
* –Ω–µ ‚Äú–¥–æ–≥–∞–¥—ã–≤–∞–µ—Ç—Å—è‚Äù.

–õ—é–±–∞—è —Ü–∏—Ñ—Ä–∞ –≤ Analytics:

* –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–≤—Ç–æ—Ä—è–µ–º–∞;
* –¥–æ–ª–∂–Ω–∞ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å backend-–¥–∞–Ω–Ω—ã–º–∏;
* –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ–±—ä—è—Å–Ω–∏–º–∞ —á–µ—Ä–µ–∑ jobs –∏ SLA.

---

## 92. Analytics ‚Äî —Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

* –º–∞—Ä—à—Ä—É—Ç `/analytics`;
* KPI summary;
* trends-–≥—Ä–∞—Ñ–∏–∫–∏;
* —Ç–∞–±–ª–∏—Ü–∞ performance –∫–ª–∏–Ω–µ—Ä–æ–≤;
* comparison chart;
* –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ layout –ø—Ä–∏ —Å–≤—ë—Ä–Ω—É—Ç–æ–º sidebar.

API:

* `GET /api/manager/analytics/summary/`;
* `GET /api/manager/analytics/cleaners-performance/`.

Frontend:

* –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ backend-–¥–∞–Ω–Ω—ã–µ;
* –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç fallback-–º–æ–∫–∏;
* –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI.

---

## 93. Analytics ‚Äî —Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

–ù–∞ —Ç–µ–∫—É—â–µ–º —ç—Ç–∞–ø–µ **–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:

* –∫–∞—Å—Ç–æ–º–Ω—ã–π –≤—ã–±–æ—Ä –ø–µ—Ä–∏–æ–¥–∞;
* drill-down –¥–æ job;
* —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö;
* owner-only analytics.

–≠—Ç–æ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ:
Analytics ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –æ–±–∑–æ—Ä–∞,
–∞ –Ω–µ –≥–ª—É–±–æ–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.

---

## 94. Analytics ‚Üî Performance ‚Üî SLA

–°–≤—è–∑–∫–∞:

Jobs ‚Üí SLA ‚Üí Performance ‚Üí Analytics

* SLA ‚Äî –±–∏–Ω–∞—Ä–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏;
* Performance ‚Äî –∞–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ –ª—é–¥—è–º –∏ –º–µ—Å—Ç–∞–º;
* Analytics ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è.

–†–∞–∑—Ä—ã–≤ –ª–æ–≥–∏–∫–∏ –∑–∞–ø—Ä–µ—â—ë–Ω.

---

## 95. DEV_BRIEF ‚Äî invariants (–ù–ï –ù–ê–†–£–®–ê–¢–¨)

–≠—Ç–æ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã.
–õ—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –∏–º –ø–æ–¥—á–∏–Ω—è—Ç—å—Å—è.

### Backend

* Backend ‚Äî **–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã**.
* –ù–∏–∫–∞–∫–∞—è –ª–æ–≥–∏–∫–∞ –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ.
* –í—Å–µ –º—É—Ç–∞—Ü–∏–∏ –∏–¥—É—Ç —á–µ—Ä–µ–∑ API.
* –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã backward-compatible.

### Frontend

* –ù–µ –≤—ã—á–∏—Å–ª—è–µ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É.
* –ù–µ –º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å job –ª–æ–∫–∞–ª—å–Ω–æ.
* –ü–æ—Å–ª–µ mutating action ‚Äî refetch.
* –û—à–∏–±–∫–∏ API –Ω–µ —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è.

### Mobile

* –ù–µ –Ω–∞—Ä—É—à–∞–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π.
* –ù–µ –æ–±—Ö–æ–¥–∏—Ç GPS-–≤–∞–ª–∏–¥–∞—Ü–∏—é.
* –ù–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç job –±–µ–∑ proof –∏ —á–µ–∫-–ª–∏—Å—Ç–∞.

---

## 96. DEV_BRIEF ‚Äî Job Details stability rules (recap)

–≠–∫—Ä–∞–Ω Job Details:

* –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è;
* —Å–µ–∫—Ü–∏–∏ ‚Äî dumb components;
* –ª–æ–≥–∏–∫–∞ ‚Äî —Å–≤–µ—Ä—Ö—É.

–ü–æ—Å–ª–µ –ª—é–±–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è:

* refetch job;
* –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ backend-–æ—Ç–≤–µ—Ç–∞.

---

## 97. GPS ‚Äî –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

* DEV:

  * –º–æ–∂–Ω–æ –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã job;
* PROD:

  * —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

–ó–∞–ø—Ä–µ—â–µ–Ω–æ:

* –∏–Ω–ª–∞–π–Ω–∏—Ç—å GPS –≤ —ç–∫—Ä–∞–Ω–∞—Ö;
* –º–µ–Ω—è—Ç—å distance-check;
* –º–∞—Å–∫–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏.

---

## 98. Photos ‚Äî –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

* –¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ ImagePicker;
* –¢–æ–ª—å–∫–æ –ø—Ä–∏ `in_progress`;
* –¢–æ–ª—å–∫–æ before ‚Üí after;
* EXIF –º–æ–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å;
* EXIF –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚â† –æ—à–∏–±–∫–∞.

---

## 99. Checklist ‚Äî –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

* Checklist = snapshot;
* –∏—Å—Ç–æ—á–Ω–∏–∫ ‚Äî template;
* required-–ø—É–Ω–∫—Ç—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã;
* –≤–ª–∏—è–µ—Ç –Ω–∞ SLA;
* –º–µ–Ω–µ–¥–∂–µ—Ä –Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç job checklist.

---

## 100. Trial ‚Äî —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è –∏ UX

Trial ‚Äî –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞, –∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç.

–ü—Ä–∏–Ω—Ü–∏–ø—ã:

* –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ ‚Äú–Ω–∞–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è‚Äù;
* –¥–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã;
* –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –º—è–≥–∫–∏–µ (–∫—Ä–æ–º–µ —è–≤–Ω—ã—Ö backend-–∫–æ–¥–æ–≤);
* –∞–ø–≥—Ä–µ–π–¥ ‚Äî –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ, –Ω–µ —É–ª—å—Ç–∏–º–∞—Ç—É–º.

---

## 101. Trial expired ‚â† –æ—à–∏–±–∫–∞

–ü–æ—Å–ª–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è trial:

* –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞—ë—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ;
* –º–æ–∂–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ;
* –º–æ–∂–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É;
* –ø–æ–ª—É—á–∞–µ—Ç –æ–±—ä—è—Å–Ω—è—é—â–∏–π UX.

---

## 102. Soft-limits ‚Äî –ø—Ä–∞–≤–∏–ª–æ

Soft-limits:

* –æ–±—É—á–∞—é—Ç —Ü–µ–Ω–Ω–æ—Å—Ç–∏ —Ç–∞—Ä–∏—Ñ–∞;
* –Ω–µ –ª–æ–º–∞—é—Ç —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ;
* –Ω–µ —Å–æ–∑–¥–∞—é—Ç —Å—Ç—Ä–µ—Å—Å.

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ —Ä–µ—à–µ–Ω–∏—é backend‚Äô–∞ –∏ —á–µ—Ä–µ–∑ error codes.

---

## 103. Commercial enforcement ‚Äî summary

* enforced backend‚Äô–æ–º;
* –≤—ã—Ä–∞–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ error codes;
* —Ñ—Ä–æ–Ω—Ç —á–∏—Ç–∞–µ—Ç –∫–æ–¥, –∞ –Ω–µ —Ç–µ–∫—Å—Ç;
* UX = read-only mode + upgrade options.

---

## 104. Security model ‚Äî –∏—Ç–æ–≥

* –º–µ–Ω–µ–¥–∂–µ—Ä ‚Äî root-–¥–æ—Å—Ç—É–ø –≤ –∫–æ–º–ø–∞–Ω–∏–∏;
* –∫–ª–∏–Ω–µ—Ä ‚Äî –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –±–µ–∑ self-service;
* owner ‚Äî –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å –æ—Ç—á—ë—Ç–æ–≤.

–ú–∏–Ω–∏–º—É–º –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–µ–π –∞—Ç–∞–∫–∏,
–º–∞–∫—Å–∏–º—É–º –∫–æ–Ω—Ç—Ä–æ–ª—è.

---

## 105. Product scope ‚Äî –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ

CleanProof –Ω–∞ —Ç–µ–∫—É—â–µ–º —ç—Ç–∞–ø–µ:

* –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π SaaS;
* –±–µ–∑ –±–∏–ª–ª–∏–Ω–≥–∞;
* —Å —Ä–µ–∞–ª—å–Ω–æ–π —Ü–µ–Ω–Ω–æ—Å—Ç—å—é;
* —Å –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞–º–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç;
* —Å —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π.

---

## 106. –ß—Ç–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è DONE

* Job execution ‚Äî DONE;
* Proof (photos, checklist, GPS) ‚Äî DONE;
* SLA ‚Äî DONE;
* Reports + PDF + Email + Audit ‚Äî DONE;
* Planning ‚Äî DONE;
* Analytics v1 ‚Äî DONE.

---

## 107. –ß—Ç–æ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –ù–ï –¥–µ–ª–∞–ª–∏

* –±–∏–ª–ª–∏–Ω–≥;
* –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è;
* —Å–ª–æ–∂–Ω—ã–µ —Ä–æ–ª–∏;
* –æ—Ñ—Ñ–ª–∞–π–Ω-–æ—á–µ—Ä–µ–¥–∏ (–∫—Ä–æ–º–µ –∑–∞–¥–µ–ª–∞);
* –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—É—é –∞–≤—Ç–æ–º–∞—Ç–∏–∫—É.

---

## 108. –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–∑–≤–∏—Ç–∏—è –¥–∞–ª—å—à–µ

–õ—é–±–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –¥–æ–ª–∂–Ω–æ:

* –Ω–µ –ª–æ–º–∞—Ç—å execution;
* –Ω–µ —Ä–∞–∑–º—ã–≤–∞—Ç—å SLA;
* —É—Å–∏–ª–∏–≤–∞—Ç—å –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å;
* –ø–æ–≤—ã—à–∞—Ç—å –¥–æ–≤–µ—Ä–∏–µ.

---

## 109. –ò—Ç–æ–≥–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∞ –ø—Ä–æ–¥—É–∫—Ç–∞

> CleanProof ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞,
> –≥–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –≤–∞–∂–Ω–µ–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞,
> –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –≤–∞–∂–Ω–µ–µ –æ–±–µ—â–∞–Ω–∏–π,
> –∞ –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–º–µ—Ä–∏–º–æ, –∞ –Ω–µ –¥–µ–∫–ª–∞—Ä–∏—Ä—É–µ—Ç—Å—è.

---

## 110. –§–∏–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç —Å–æ–º–Ω–µ–Ω–∏–µ:

**‚Äú–≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –∂–∏–∑–Ω—å –º–µ–Ω–µ–¥–∂–µ—Ä—É,
–Ω–µ –ª–æ–º–∞—è –ø—Ä–∞–≤–¥—É backend‚Äô–∞?‚Äù**

–ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è.

---

## 111. API module structure

The API layer for the manager / cleaner apps is split into several view modules
to keep `backend/apps/api/views.py` small and maintainable:

* `backend/apps/api/views_auth.py`
  Auth & session endpoints:

  * cleaner PIN login and email+password login
  * manager login & signup

* `backend/apps/api/views_cleaner.py`
  Cleaner-facing mobile API:

  * today jobs list, job details
  * check-in / check-out flows
  * checklist toggle / bulk update
  * before/after photo upload & delete
  * job PDF report download for the cleaner

* `backend/apps/api/views_manager_company.py`
  Company profile & team management:

  * manager company profile (GET / PATCH)
  * company logo upload
  * cleaners CRUD (list/create/update)
  * PIN reset for cleaners

* `backend/apps/api/views_manager_jobs.py`
  Manager-facing job lifecycle & planning:

  * create job, today jobs list
  * manager job details
  * planning / history lists (same payload helper)
  * SLA helpers and force-complete endpoint
  * performance views by cleaners / locations
  * SLA violations jobs report

* `backend/apps/api/views_reports.py`
  Reporting & email:

  * job PDF report download & email sending
  * weekly / monthly SLA reports (JSON + PDF)
  * owner overview
  * global report email log table
  * weekly / monthly report email endpoints

The main `backend/apps/api/views.py` file is now a thin entry point that:

* re-exports public API views from the modules above (for `urls.py` imports),
* contains only:

  * default checklist templates for new companies,
  * the `create_default_checklist_templates_for_company()` helper,
  * `ManagerMetaView` (bootstrap meta for the dashboard: cleaners, locations, checklist templates).

---

## Jobs vs Job History (operational vs archive)

The **Jobs** page is an operational view intended for day-to-day management.

* **Today** ‚Äî jobs scheduled for the current date.
* **Upcoming** ‚Äî jobs scheduled for future dates.
* **Completed** ‚Äî —Ç–æ–ª—å–∫–æ –Ω–µ–¥–∞–≤–Ω–∏–µ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ jobs (–¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –æ–∫–Ω–æ ‚Äî ~30 –¥–Ω–µ–π).

Jobs page **–Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç** –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é, —á—Ç–æ–±—ã:

* –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å UI;
* –Ω–µ —Ç—è–Ω—É—Ç—å –ª–∏—à–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ.

The **Job History** page ‚Äî –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –∞—Ä—Ö–∏–≤:

* –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –¥–∞—Ç,
* —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã,
* –ø–æ–ª–Ω—ã–π –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π dataset –±–µ–∑ –ª–∏–º–∏—Ç–æ–≤ –ø–æ –≤—Ä–µ–º–µ–Ω–∏.

---

## Reports (Frontend)

–°—Ç—Ä–∞–Ω–∏—Ü–∞ Reports —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞:

* **Owner view** ‚Äî read-only summary –±–µ–∑ drill-down;
* **Manager view** ‚Äî weekly/monthly SLA-–æ—Ç—á—ë—Ç—ã —Å actionable-–±–ª–æ–∫–∞–º–∏ (Top reasons, Cleaners, Locations).

–í–∫–ª–∞–¥–∫–∞ Email history (`/reports/email-logs`) –ø—Ä–∏–≤–µ–¥–µ–Ω–∞ –∫ —Ç–æ–º—É –∂–µ —É—Ä–æ–≤–Ω—é —Å—Ç—Ä–æ–≥–æ—Å—Ç–∏, —á—Ç–æ –∏ Reports:
–µ–¥–∏–Ω—ã–π –∂—É—Ä–Ω–∞–ª –≤—Å–µ—Ö job/weekly/monthly –ø–∏—Å–µ–º —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏.

Layout:

* –í AppLayout —É–≤–µ–ª–∏—á–µ–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞,
  —á—Ç–æ–±—ã —Ç–∞–±–ª–∏—Ü—ã Reports –∏ Email history –≤–∏–∑—É–∞–ª—å–Ω–æ –¥–æ—Ö–æ–¥–∏–ª–∏ –¥–æ —Å–∞–π–¥–±–∞—Ä–∞
  –∏ –Ω–µ –æ—Å—Ç–∞–≤–ª—è–ª–∏ ‚Äú–ø—É—Å—Ç–æ–≥–æ –ø–æ–ª—è‚Äù.

---

## SLA Reports ‚Üí Violations Drill-down (Frontend)

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å—Ü–µ–Ω–∞—Ä–∏–π –ø–µ—Ä–µ—Ö–æ–¥–∞ –æ—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö SLA-–º–µ—Ç—Ä–∏–∫ –∫ —Å–ø–∏—Å–∫—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∑–∞–¥–∞—á —Å –Ω–∞—Ä—É—à–µ–Ω–∏—è–º–∏.

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ Reports –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏ entry-point‚Äô–∞–º–∏ —è–≤–ª—è—é—Ç—Å—è:

* —ç–ª–µ–º–µ–Ω—Ç—ã –±–ª–æ–∫–∞ **Top SLA reasons**
* —Å—Ç—Ä–æ–∫–∏ –≤ –±–ª–æ–∫–µ **Cleaners with issues**
* —Å—Ç—Ä–æ–∫–∏ –≤ –±–ª–æ–∫–µ **Locations with issues**

–ö–∞–∂–¥—ã–π entry-point —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `ViolationJobsPage` —Å –ø–µ—Ä–µ–¥–∞—á–µ–π:

* `period_start`
* `period_end`
* –æ–¥–Ω–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞: `reason`, `cleaner_id` –∏–ª–∏ `location_id`

### ViolationJobsPage

–°—Ç—Ä–∞–Ω–∏—Ü–∞:

* –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –≤—Ö–æ–¥–Ω—ã–µ query-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã;
* –≤—ã–∑—ã–≤–∞–µ—Ç `getViolationJobs`;
* –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É job‚Äô–æ–≤ —Å –Ω–∞—Ä—É—à–µ–Ω–∏—è–º–∏ SLA;
* –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `JobSidePanel` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ (Quick view);
* –º–∞–ø–ø–∏—Ç –¥–∞–Ω–Ω—ã–µ reports-—ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –≤ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π `PlanningJob` –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö backend-–∑–∞–ø—Ä–æ—Å–æ–≤.

–õ–æ–≥–∏–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å—Ç—Ä–æ–≥–æ read-only, –±–µ–∑ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤.

---

## Analytics & SLA layer ‚Äî done

–ó–∞–≤–µ—Ä—à–µ–Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ backend-–ª–æ–≥–∏–∫–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ SLA.
–í—ã–Ω–µ—Å–µ–Ω—ã –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ä–∞—Å—á—ë—Ç—ã summary-–º–µ—Ç—Ä–∏–∫ –∏ –¥–µ–ª—å—Ç –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º.
–í—Å–µ edge-cases (–ø—É—Å—Ç—ã–µ –ø–µ—Ä–∏–æ–¥—ã, –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —á–µ–∫–ª–∏—Å—Ç–æ–≤ –∏–ª–∏ —Ñ–æ—Ç–æ) –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ API.

Frontend –ø–æ–ª—É—á–∞–µ—Ç —É–∂–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ —Ä–∞—Å—á—ë—Ç–æ–≤.
–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å—Ç—Ä–æ–∏—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –Ω–∞ `completed` jobs, —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `actual_start_time` / `actual_end_time` –∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ SLA engine.

---

## Settings API v1.1 (Account & Billing MVP)

### –°—Ç–∞—Ç—É—Å

‚úÖ DONE ‚Äî backend API + frontend integration + verification checklist

### Scope

Settings v1.1 —Ä–µ–∞–ª–∏–∑—É–µ—Ç –±–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –±–∏–ª–ª–∏–Ω–≥–∞ –±–µ–∑ Stripe-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:

**Account Settings (`/settings/account`)**
* Profile management (GET/PATCH /api/me)
* Password change (password-auth only, SSO blocked)
* Notification preferences (auto-save)

**Billing (`/settings/billing`)**
* Billing summary (plan, status, usage, payment method stub, invoices stub)
* RBAC: Owner (full access), Manager (read-only), Staff/Cleaner (403 blocked)
* Invoice download stub (501 Not Implemented)

### Backend

**Views:** `backend/apps/accounts/api/views_settings.py`
**Error handling:** `backend/apps/accounts/api/error_responses.py`
**Test fixtures:** `backend/setup_test_users.py`
**Verification script:** `backend/verify_rbac.sh`

**Endpoints:**
* `GET /api/me` ‚Äî current user data
* `PATCH /api/me` ‚Äî update profile
* `POST /api/me/change-password` ‚Äî change password (password-auth only)
* `GET /api/me/notification-preferences` ‚Äî get notification settings
* `PATCH /api/me/notification-preferences` ‚Äî update notification settings
* `GET /api/settings/billing` ‚Äî billing summary (RBAC enforced)
* `GET /api/settings/billing/invoices/:id/download` ‚Äî invoice download stub (501)

**Error format (standardized):**
```json
{
  "code": "VALIDATION_ERROR|FORBIDDEN|NOT_IMPLEMENTED|UNAUTHENTICATED",
  "message": "Human-readable message",
  "fields": { "field_name": ["error message"] }  // optional, validation errors only
}
```

**RBAC rules:**
* Owner: full billing access (can_manage=true)
* Manager: read-only billing (can_manage=false)
* Staff/Cleaner: 403 blocked from billing
* SSO users: 403 blocked from password change
* Invoice download: 501 NOT_IMPLEMENTED (no Stripe yet)

### Frontend

**Pages:**
* `dubai-control/src/pages/settings/AccountSettings.tsx`
* `dubai-control/src/pages/settings/Billing.tsx`

**API client:** `dubai-control/src/api/client.ts`
**Error utilities:** `dubai-control/src/utils/apiErrors.ts`
**User role hook:** `dubai-control/src/hooks/useUserRole.ts`

**Features:**
* Profile form with dirty state tracking
* Password change with strength indicator (password-auth only)
* Notifications auto-save with master toggle logic
* Billing page with RBAC (owner/manager/staff enforcement)
* Usage progress bars with color coding (‚â§79% accent, 80-99% warning, 100%+ error)
* Invoice download with 501/403 handling
* AccountDropdown hides "Billing" link for Staff

### Verification

**Verification checklist:** `docs/settings/VERIFICATION_CHECKLIST.md`

Manual QA checklist covering:
* Profile updates (success + validation errors)
* Password change (success + wrong password + SSO block)
* Notifications auto-save (master toggle + error rollback)
* Billing RBAC (Owner/Manager/Staff access control)
* Invoice download (501 for Owner/Manager, 403 for Staff)
* AccountDropdown visibility (Billing link hidden for Staff)
* Error handling (standardized format across all endpoints)
* Loading and error states

**Backend verification script:**
```bash
cd backend
./verify_rbac.sh
```

Expected output:
* ‚úì Owner billing access (can_manage=true)
* ‚úì Manager billing access (can_manage=false)
* ‚úì Staff billing blocked (403 FORBIDDEN)
* ‚úì Invoice download 501 for Owner/Manager
* ‚úì Invoice download 403 for Staff
* ‚úì SSO user password change blocked (403 FORBIDDEN)
* ‚úì Validation error format standardized
* ‚úì Deterministic payload keys present

### Documentation

* `docs/api/API_CONTRACTS.md` ‚Äî section 9 (Settings API v1.1)
* `backend/docs/api/SETTINGS_API_RBAC.md` ‚Äî RBAC matrix and examples
* `docs/settings/VERIFICATION_CHECKLIST.md` ‚Äî manual QA guide
* `docs/ux/SETTINGS_ACCOUNT_BILLING_UX_v1.1.md` ‚Äî UX specification

### Commits

* b0d966b - feat(api): settings account and billing endpoints v1.1
* 2800c50 - fix(api): settings api endpoint fixes and owner role login support
* f62c02c - chore(api): stabilize settings v1.1 errors and RBAC docs
* d2184bb - feat(frontend): wire Settings v1.1 to backend API

### Out of scope (MVP v1.1)

* Stripe integration (payment method, invoices, subscriptions)
* 2FA / MFA
* Session management
* Email verification
* Password reset flow
* Organization-level settings
* Team invites

### Next steps (future)

* Settings v1.2: Stripe integration (payment method management, invoice download)
* Settings v1.3: Team management (invite users, manage roles)
* Settings v1.4: 2FA / MFA
* Settings v2.0: Organization-level settings

```
